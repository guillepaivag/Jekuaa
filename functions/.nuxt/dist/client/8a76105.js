(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{589:function(O,g,r){"use strict";var b=r(15),V=r(14),y=r(110),U=r(33),S=r(348),L=r(264),j=r(86),E=r(121),C=r(6);function D(h){return C.default.extend({name:"v-".concat(h),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(f,c){var a=c.props,o=c.data,p=c.children;o.staticClass="".concat(h," ").concat(o.staticClass||"").trim();var u=o.attrs;if(u){o.attrs={};var v=Object.keys(u).filter(function(d){if(d==="slot")return!1;var $=u[d];return d.startsWith("data-")?(o.attrs[d]=$,!1):$||typeof $=="string"});v.length&&(o.staticClass+=" ".concat(v.join(" ")))}return a.id&&(o.domProps=o.domProps||{},o.domProps.id=a.id),f(a.tag,o,p)}})}var F=r(88),P=g.a=D("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(N,f){var c=f.props,a=f.data,o=f.children,p,u=a.attrs;return u&&(a.attrs={},p=Object.keys(u).filter(function(v){if(v==="slot")return!1;var d=u[v];return v.startsWith("data-")?(a.attrs[v]=d,!1):d||typeof d=="string"})),c.id&&(a.domProps=a.domProps||{},a.domProps.id=c.id),N(c.tag,Object(F.a)(a,{staticClass:"container",class:Array({"container--fluid":c.fluid}).concat(p||[])}),o)}})},838:function(O,g,r){"use strict";r.r(g);var b=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("v-navigation-drawer",{attrs:{absolute:"",width:325},model:{value:t.drawerFilter,callback:function(i){t.drawerFilter=i},expression:"drawerFilter"}},[e("v-list-item",{on:{click:function(i){t.drawerFilter=!t.drawerFilter}}},[e("v-list-item-icon",[e("v-icon",[t._v(`
                mdi-menu
                `)])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(`
                Filtro
            `)])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-list",{attrs:{dense:""}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",[t._v(`
                mdi-account-hard-hat
                `)])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(`
                    C\xF3digo Rol: `+t._s(t.rol.rolName)+`
                `)])],1)],1),t._v(" "),e("v-list-item-content",{staticStyle:{"margin-top":"-30px"}},[e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(i){var m=i.on,l=i.attrs;return[e("div",{staticClass:"container"},[e("p",{staticClass:"mt-1"},[t._v(`
                            Rol: `+t._s(t.rol.rolName)+`
                        `)]),t._v(" "),e("v-btn",t._g(t._b({attrs:{color:"#683bce",outlined:"",block:"",dark:""}},"v-btn",l,!1),m),[t._v(`
                            Roles
                        `)])],1)]}}])},[t._v(" "),e("v-list",t._l(t.roles,function(i,m){return e("v-list-item",{key:m,attrs:{link:""},on:{click:function(l){return t.selectRole(i)}}},[e("v-list-item-title",[t._v(`
                        `+t._s(i.rolName)+`
                        `)])],1)}),1)],1)],1),t._v(" "),t.rol.rolCode==="admin"||t.rol.rolCode==="subAdmin"||t.rol.rolCode==="creadorContenido"?e("div",{staticStyle:{"margin-top":"-30px"}},[e("v-container",{attrs:{fluid:""}},[e("v-select",{attrs:{items:t.secciones,label:"Secciones",multiple:"","item-text":"seccionName","item-value":t.dataFilter.seccionCode,"return-object":""},on:{input:function(i){return t.setSections(t.seccion)}},model:{value:t.seccion,callback:function(i){t.seccion=i},expression:"seccion"}})],1)],1):t._e(),t._v(" "),e("v-divider"),t._v(" "),e("v-list-item",[e("v-list-item-icon",[e("v-icon",[t._v(`
                mdi-account-star
                `)])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[e("p",{staticClass:"mt-1"},[t._v(`
                        Premium: `+t._s(t.premium.premiumName)+`
                    `)])])],1)],1),t._v(" "),e("v-list-item-content",{staticStyle:{"margin-top":"-30px"}},[e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(i){var m=i.on,l=i.attrs;return[e("div",{staticClass:"container"},[e("p",{staticClass:"mt-1"},[t._v(`
                        Premium:
                    `)]),t._v(" "),e("v-btn",t._g(t._b({attrs:{color:"#683bce",outlined:"",block:"",dark:""}},"v-btn",l,!1),m),[t._v(`
                        Premium
                    `)])],1)]}}])},[t._v(" "),e("v-list",t._l(t.premiumOptions,function(i,m){return e("v-list-item",{key:m,attrs:{link:""},on:{click:function(l){return t.selectPremium(i)}}},[e("v-list-item-title",[t._v(`
                    `+t._s(i.premiumName)+`
                    `)])],1)}),1)],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("div",{staticClass:"container"},[e("v-btn",{attrs:{color:"#683bce",outlined:"",block:"",dark:""},on:{click:function(i){return t.filter(t.dataFilter)}}},[t._v(`
                    Buscar
                `)])],1)],1)],1),t._v(" "),e("div",[e("div",{staticClass:"container"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[e("v-select",{attrs:{items:t.identifierListOptions,"item-text":"optionName","item-value":t.selectedIdentifier.optionCode,label:"Identificadores","return-object":""},on:{input:function(i){return t.selectIdentifierCode(t.selectedIdentifier)}},model:{value:t.selectedIdentifier,callback:function(i){t.selectedIdentifier=i},expression:"selectedIdentifier"}})],1),t._v(" "),e("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[t.selectedIdentifier.optionCode==="uid"?e("v-text-field",{attrs:{label:"UID del usuario"},on:{input:function(i){return t.$v.filterUID.$touch()},blur:function(i){return t.$v.filterUID.$touch()}},model:{value:t.dataFilter.userIdentifier.identifierData,callback:function(i){t.$set(t.dataFilter.userIdentifier,"identifierData",i)},expression:"dataFilter.userIdentifier.identifierData"}}):t.selectedIdentifier.optionCode==="ci"?e("v-text-field",{attrs:{"error-messages":t.CIErrors,type:"number",label:"CI del usuario"},on:{input:function(i){return t.$v.filterCI.$touch()},blur:function(i){return t.$v.filterCI.$touch()}},model:{value:t.dataFilter.userIdentifier.identifierData,callback:function(i){t.$set(t.dataFilter.userIdentifier,"identifierData",i)},expression:"dataFilter.userIdentifier.identifierData"}}):t.selectedIdentifier.optionCode==="username"?e("v-text-field",{attrs:{"error-messages":t.nameErrors,counter:10,label:"Nombre de usuario"},on:{input:function(i){return t.$v.filterUsername.$touch()},blur:function(i){return t.$v.filterUsername.$touch()}},model:{value:t.dataFilter.userIdentifier.identifierData,callback:function(i){t.$set(t.dataFilter.userIdentifier,"identifierData",i)},expression:"dataFilter.userIdentifier.identifierData"}}):t.selectedIdentifier.optionCode==="email"?e("v-text-field",{attrs:{"error-messages":t.emailErrors,label:"Correo"},on:{input:function(i){return t.$v.filterEmail.$touch()},blur:function(i){return t.$v.filterEmail.$touch()}},model:{value:t.dataFilter.userIdentifier.identifierData,callback:function(i){t.$set(t.dataFilter.userIdentifier,"identifierData",i)},expression:"dataFilter.userIdentifier.identifierData"}}):t._e()],1)],1),t._v(" "),e("v-btn",{staticClass:"mr-4",attrs:{color:"#683bce",outlined:""},on:{click:function(i){return t.filter(t.dataFilter)}}},[t._v(`
                Buscar
            `)]),t._v(" "),e("v-btn",{staticClass:"ma-2",attrs:{color:"#683bce",outlined:""},on:{click:function(i){t.drawerFilter=!t.drawerFilter}}},[t._v(`
                M\xE1s filtros
            `)]),t._v(" "),e("hr",{staticClass:"mt-3 mb-3"})],1)])],1)},V=[],y=r(19),U=r(71),S=r(24),L=r(13),j=r(15),E=r(511),C=r(512),D={name:"filterAdminUser",middleware:"check-adminTeam",mixins:[E.validationMixin],validations:{filterUsername:{maxLength:Object(C.maxLength)(10)},filterEmail:{email:C.email},filterUID:{},filterCI:{numeric:C.numeric}},props:{limit:Number,filtracion:Function},data:function(){return{drawerFilter:!1,rol:{rolName:"Todos",rolCode:null},roles:[{rolName:"Todos",rolCode:null},{rolName:"Propietario",rolCode:"propietario"},{rolName:"Administrador",rolCode:"admin"},{rolName:"SubAdministrador",rolCode:"subAdmin"},{rolName:"Creador de contenido",rolCode:"creadorContenido"},{rolName:"Normal",rolCode:"normal"}],seccion:[],secciones:[{seccionName:"Inform\xE1tica",seccionCode:"informatica"},{seccionName:"Matem\xE1tica",seccionCode:"matematica"},{seccionName:"Econom\xEDa",seccionCode:"economia"},{seccionName:"M\xFAsica",seccionCode:"musica"}],premium:{premiumName:"Todos",premiumOption:null},premiumOptions:[{premiumName:"Todos",premiumOption:null},{premiumName:"Premium",premiumOption:!0},{premiumName:"No Premium",premiumOption:!1}],datePremiumOptions:[{optionName:"Todos",optionCode:null},{optionName:"Fecha de compra",optionCode:0},{optionName:"D\xEDa",optionCode:1},{optionName:"Mes",optionCode:2},{optionName:"A\xF1o",optionCode:3}],selectedIdentifier:{optionName:"Elegir un identificador",optionCode:null},identifierListOptions:[{optionName:"Elegir un identificador",optionCode:null},{optionName:"UID",optionCode:"uid"},{optionName:"Nombre de usuario",optionCode:"username"},{optionName:"Correo",optionCode:"email"}],dataFilter:{roleCode:null,seccionCode:null,premium:null,tipoPremium:null,datePremium:null,userIdentifier:{type:null,identifierData:""}},lastDocument:null,usersData:[]}},methods:{selectRole:function(n){this.rol.rolName=n.rolName,this.rol.rolCode=n.rolCode,this.dataFilter.roleCode=n.rolCode,n.rolCode==="admin"||n.rolCode==="subAdmin"||n.rolCode==="creadorContenido"?this.dataFilter.seccionCode=[]:this.dataFilter.seccionCode=null},selectPremium:function(n){this.premium.premiumName=n.premiumName,this.premium.premiumOption=n.premiumOption,this.dataFilter.premium=n.premiumOption},selectIdentifierCode:function(n){console.log(n),this.dataFilter.userIdentifier.type=n.optionCode,this.dataFilter.userIdentifier.identifierData=""},setSections:function(n){this.dataFilter.seccionCode=[];for(var e=0;e<n.length;e++)this.dataFilter.seccionCode.push(n[e].seccionCode)},filter:function(n){var e=this;return Object(y.a)(regeneratorRuntime.mark(function i(){var m,l,I;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$v.$touch(),console.log(e.$v.$touch()),console.log("dataFilter",n),s.prev=3,e.$emit("loadingUsers",!0),m=e.$firebase.firestore(),e.usersData=[],l=m.collection("Usuarios"),l=e.filtracion(l,n),l=l.limit(e.limit),s.next=12,l.get();case 12:I=s.sent,I.size>0?(I.forEach(function(G){e.usersData.push(G.data())}),e.lastDocument=I.docs[I.docs.length-1],console.log("this.usersData",e.usersData),e.$emit("usersData",e.usersData),e.$emit("lastDocument",e.lastDocument)):(e.$emit("usersData",[]),e.$emit("lastDocument",null)),s.next=19;break;case 16:s.prev=16,s.t0=s.catch(3),console.log("error",s.t0);case 19:return s.prev=19,e.$emit("loadingUsers",!1),s.finish(19);case 22:e.$emit("dataFilter",n);case 23:case"end":return s.stop()}},i,null,[[3,16,19,22]])}))()}},computed:{nameErrors:function(){var n=[];return this.$v.filterUsername.$dirty&&!this.$v.filterUsername.maxLength&&n.push("El nombre debe tener 10 caracteres como m\xE1ximo."),n},emailErrors:function(){var n=[];return this.$v.filterEmail.$dirty&&!this.$v.filterEmail.email&&n.push("Debe ser v\xE1lido el correo electr\xF3nico."),n},CIErrors:function(){var n=[];return this.$v.filterCI.$dirty&&!this.$v.filterCI.numeric&&n.push("Debe ser v\xE1lido la c\xE9dula de identidad."),n}},created:function(){var n={roleCode:null,seccionCode:null,premium:null,tipoPremium:null,datePremium:null,userIdentifier:{type:null,identifierData:""}};this.filter(n)}},F=D,P=r(42),h=r(48),N=r.n(h),f=r(117),c=r(486),a=r(589),o=r(489),p=r(147),u=r(244),v=r(165),d=r(62),$=r(145),R=r(490),T=r(500),A=r(485),M=r(635),B=r(262),x=Object(P.a)(F,b,V,!1,null,null,null),z=g.default=x.exports;N()(x,{VBtn:f.a,VCol:c.a,VContainer:a.a,VDivider:o.a,VIcon:p.a,VList:u.a,VListItem:v.a,VListItemContent:d.a,VListItemIcon:$.a,VListItemTitle:d.b,VMenu:R.a,VNavigationDrawer:T.a,VRow:A.a,VSelect:M.a,VTextField:B.a})}}]);
