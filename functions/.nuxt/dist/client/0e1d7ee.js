(window.webpackJsonp=window.webpackJsonp||[]).push([[38,16],{532:function(k,h,r){},554:function(k,h,r){"use strict";var p=r(532),j=r.n(p)},565:function(k,h,r){"use strict";r.r(h);var p=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",[a("h3",{staticClass:"mt-3",class:e.modo!="crear"?e.estaHabilitado?"green--text":"red--text":"black--text"},[a("b",[e._v(`
            `+e._s(e.titulo)+`
        `)])]),e._v(" "),a("v-stepper",{staticClass:"mt-5",attrs:{vertical:""},model:{value:e.step,callback:function(i){e.step=i},expression:"step"}},e._l(e.infoTextoFormulario,function(i,t){return a("div",{key:t},[a("v-stepper-step",{attrs:{color:"#683bce",rules:[function(){return!i.error}],complete:!i.requerido||!i.error&&i.existe,step:i.paso},on:{click:function(s){e.step=i.paso}}},[e._v(`
                `+e._s(i.titulo)+`
                `),i.descripcion?a("small",[e._v(" "+e._s(i.descripcion)+" ")]):e._e()]),e._v(" "),a("v-stepper-content",{attrs:{step:i.paso}},[i.paso===1?a("v-text-field",{attrs:{"error-messages":e.nombreUsuarioErrors,counter:e.logitudesDeTexto.nombreUsuario.max,min:e.logitudesDeTexto.nombreUsuario.min,label:"Nombre de usuario",required:"",disabled:e.soloLectura},on:{input:function(s){return e.$v.datosUsuario.nombreUsuario.$touch()},blur:function(s){return e.$v.datosUsuario.nombreUsuario.$touch()}},model:{value:e.datosUsuario.nombreUsuario,callback:function(s){e.$set(e.datosUsuario,"nombreUsuario",s)},expression:"datosUsuario.nombreUsuario"}}):e._e(),e._v(" "),i.paso===2?a("v-text-field",{attrs:{"error-messages":e.correoErrors,label:"Correo",required:"",disabled:e.soloLectura},on:{input:function(s){return e.$v.datosUsuario.correo.$touch()},blur:function(s){return e.$v.datosUsuario.correo.$touch()}},model:{value:e.datosUsuario.correo,callback:function(s){e.$set(e.datosUsuario,"correo",s)},expression:"datosUsuario.correo"}}):e._e(),e._v(" "),i.paso===3?a("v-text-field",{attrs:{"error-messages":e.nombreCompletoErrors,counter:e.logitudesDeTexto.nombreCompleto.max,label:"Nombre completo",disabled:e.soloLectura},on:{input:function(s){return e.$v.datosUsuario.nombreCompleto.$touch()},blur:function(s){return e.$v.datosUsuario.nombreCompleto.$touch()}},model:{value:e.datosUsuario.nombreCompleto,callback:function(s){e.$set(e.datosUsuario,"nombreCompleto",s)},expression:"datosUsuario.nombreCompleto"}}):e._e(),e._v(" "),i.paso===4?a("v-date-picker",{attrs:{color:"#683bce","full-width":"",locale:"es-es",disabled:e.soloLectura},model:{value:e.datosUsuario.fechaNacimiento,callback:function(s){e.$set(e.datosUsuario,"fechaNacimiento",s)},expression:"datosUsuario.fechaNacimiento"}}):e._e(),e._v(" "),i.paso===5?a("div",[a("v-select",{staticClass:"mb-5",attrs:{hint:""+(e.planSeleccionado.value?"Se selecciono el: "+e.planSeleccionado.text:"No has elegido un plan todav\xEDa"),items:e.planes,"item-text":"text","item-value":"value",label:"Plan","persistent-hint":"","return-object":"","single-line":"",disabled:e.soloLectura},model:{value:e.planSeleccionado,callback:function(s){e.planSeleccionado=s},expression:"planSeleccionado"}}),e._v(" "),e.planSeleccionado.value?a("div",{staticClass:"fechasCompras"},[a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-date-picker",{attrs:{color:"#683bce","full-width":"",range:"",disabled:e.soloLectura},model:{value:e.rangoFechaPremium,callback:function(s){e.rangoFechaPremium=s},expression:"rangoFechaPremium"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-time-picker",{attrs:{color:"#683bce",format:"24hr","full-width":"","use-seconds":"",disabled:e.soloLectura},model:{value:e.horaFechaPremium,callback:function(s){e.horaFechaPremium=s},expression:"horaFechaPremium"}})],1)],1)],1):e._e()],1):e._e(),e._v(" "),i.paso===6?a("div",[a("v-select",{staticClass:"mb-5",attrs:{hint:""+(e.rolSeleccionado.value?"Se selecciono el: "+e.rolSeleccionado.text:"No has elegido un rol todav\xEDa"),items:e.roles,"item-text":"text","item-value":"value",label:"Rol","persistent-hint":"","return-object":"","single-line":"",disabled:e.soloLectura},model:{value:e.rolSeleccionado,callback:function(s){e.rolSeleccionado=s},expression:"rolSeleccionado"}}),e._v(" "),a("div",{},[a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-combobox",{attrs:{disabled:e.soloLectura||!e.esMiembroJekuaa()||!e.necesitaSecciones(),items:e.secciones,label:"Secciones",multiple:"",chips:""},scopedSlots:e._u([{key:"selection",fn:function(s){return[a("v-chip",e._b({key:JSON.stringify(s.item),attrs:{"input-value":s.selected,disabled:s.disabled},on:{"click:close":function(z){return s.parent.selectItem(s.item)}}},"v-chip",s.attrs,!1),[a("v-avatar",{staticClass:"accent white--text",attrs:{left:""},domProps:{textContent:e._s(s.item.slice(0,1).toUpperCase())}}),e._v(`
                                            `+e._s(s.item)+`
                                        `)],1)]}}],null,!0),model:{value:e.datosUsuario.jekuaaRoles.secciones,callback:function(s){e.$set(e.datosUsuario.jekuaaRoles,"secciones",s)},expression:"datosUsuario.jekuaaRoles.secciones"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-switch",{attrs:{disabled:e.soloLectura||!e.esMiembroJekuaa(),label:"Instructor: "+e.datosUsuario.jekuaaRoles.instructor.toString()},model:{value:e.datosUsuario.jekuaaRoles.instructor,callback:function(s){e.$set(e.datosUsuario.jekuaaRoles,"instructor",s)},expression:"datosUsuario.jekuaaRoles.instructor"}})],1)],1)],1)],1):e._e(),e._v(" "),i.paso===7?a("v-text-field",{attrs:{"error-messages":e.nombreCompletoErrors,counter:e.logitudesDeTexto.nombreCompleto.max,label:"Jekuaa Points",type:"number",disabled:e.soloLectura},on:{input:function(s){return e.$v.datosUsuario.nombreCompleto.$touch()},blur:function(s){return e.$v.datosUsuario.nombreCompleto.$touch()}},model:{value:e.datosUsuario.jekuaaPoint,callback:function(s){e.$set(e.datosUsuario,"jekuaaPoint",s)},expression:"datosUsuario.jekuaaPoint"}}):e._e(),e._v(" "),i.paso===8?a("v-text-field",{attrs:{"error-messages":e.contrasenhaErrors,counter:e.logitudesDeTexto.contrasenha.max,min:e.logitudesDeTexto.contrasenha.min,label:"Contrase\xF1a",disabled:e.soloLectura},on:{input:function(s){return e.$v.contrasenha.$touch()},blur:function(s){return e.$v.contrasenha.$touch()}},model:{value:e.contrasenha,callback:function(s){e.contrasenha=s},expression:"contrasenha"}}):e._e(),e._v(" "),e.soloLectura&&i.paso===e.infoTextoFormulario.length?e._e():a("v-btn",{staticClass:"white--text",attrs:{color:"#683bce"},on:{click:e.next}},[e._v(`
                    `+e._s(i.paso===e.infoTextoFormulario.length?e.modo+" usuario":"Continue")+`
                `)]),e._v(" "),e.soloLectura?e._e():a("v-btn",{attrs:{text:""}},[e._v(`
                    Cancelar
                `)])],1)],1)}),0)],1)},j=[],D=r(33),E=r(109),J=r(24),V=r(14),H=r(347),y=r(511),m=r(512),d={nombreUsuario:{max:15,min:4},nombreCompleto:{max:50,min:0},contrasenha:{max:20,min:6}},N={mixins:[y.validationMixin],validations:{datosUsuario:{nombreUsuario:{required:m.required,minLength:Object(m.minLength)(d.nombreUsuario.min),maxLength:Object(m.maxLength)(d.nombreUsuario.max)},correo:{required:m.required,email:m.email},nombreCompleto:{maxLength:Object(m.maxLength)(d.nombreCompleto.max)},jekuaaPoint:{numeric:m.numeric}},contrasenha:{required:m.required,minLength:Object(m.minLength)(d.contrasenha.min),maxLength:Object(m.maxLength)(d.contrasenha.max)}},data:function(){return{datosUsuario:{nombreUsuario:"",correo:"",nombreCompleto:"",fechaNacimiento:"",jekuaaPremium:{plan:"",fechaCompra:"",fechaHasta:""},jekuaaRoles:{rol:"estudiante",secciones:[],instructor:!1},jekuaaPoint:0},contrasenha:"",estaHabilitado:!0,planSeleccionado:{text:"Elegir un plan",value:""},rangoFechaPremium:[],horaFechaPremium:"",rolSeleccionado:{text:"Estudiante",value:"estudiante"},step:1,modo:"lectura",planes:[{text:"Elegir un plan",value:""},{text:"B\xE1sico",value:"basico"},{text:"Avanzado",value:"avanzado"}],roles:[{text:"Estudiante",value:"estudiante"},{text:"MiembroJekaa",value:"miembroJekuaa"},{text:"Propietario",value:"propietario"}],secciones:["informatica","matematica"],logitudesDeTexto:d,datosRoles:[],infoTextoFormulario:[{paso:1,titulo:"Nombre de usuario",descripcion:"Identificador del usuario",error:!1,existe:!1,requerido:!0},{paso:2,titulo:"Correo",descripcion:"Identificador del usuario",error:!1,existe:!1,requerido:!0},{paso:3,titulo:"Nombre completo",descripcion:null,error:!1,existe:!1,requerido:!1},{paso:4,titulo:"Fecha de nacimiento",descripcion:null,error:!1,existe:!1,requerido:!1},{paso:5,titulo:"Datos Jekuaa Premium",descripcion:null,error:!1,existe:!0,requerido:!1},{paso:6,titulo:"Datos Jekuaa Roles",descripcion:null,error:!1,existe:!0,requerido:!1},{paso:7,titulo:"Datos Jekuaa Points",descripcion:null,error:!1,existe:!1,requerido:!1},{paso:8,titulo:"Contrase\xF1a del usuario",descripcion:null,error:!1,existe:!1,requerido:!0}]}},props:{uid:String,accionModo:String,usuario:Object,habilitado:Boolean},computed:{nombreUsuarioErrors:function(){var o=[];return this.$v.datosUsuario.nombreUsuario.$dirty&&(!this.$v.datosUsuario.nombreUsuario.minLength&&o.push("El nombre de usuario es muy corto."),!this.$v.datosUsuario.nombreUsuario.maxLength&&o.push("El nombre de usuario es muy largo."),!this.$v.datosUsuario.nombreUsuario.required&&o.push("Nombre de usuario es necesario.")),this.infoTextoFormulario[0].error=!!o.length,o},correoErrors:function(){var o=[];return this.$v.datosUsuario.correo.$dirty&&(!this.$v.datosUsuario.correo.email&&o.push("El correo debe de ser valido."),!this.$v.datosUsuario.correo.required&&o.push("Correo del usuario es necesaio.")),this.infoTextoFormulario[1].error=!!o.length,o},nombreCompletoErrors:function(){var o=[];return this.$v.datosUsuario.nombreCompleto.$dirty&&!this.$v.datosUsuario.nombreCompleto.maxLength&&o.push("El nombre de usuario es muy largo."),this.infoTextoFormulario[2].error=!!o.length,o},jekuaaPointsErrors:function(){var o=[];return this.$v.datosUsuario.jekuaaPoint.$dirty&&!this.$v.datosUsuario.jekuaaPoint.numeric&&o.push("Debe ser numerico."),this.infoTextoFormulario[6].error=!!o.length,o},contrasenhaErrors:function(){var o=[];return this.$v.contrasenha.$dirty&&(!this.$v.contrasenha.minLength&&o.push("La contrase\xF1a es muy corta."),!this.$v.contrasenha.maxLength&&o.push("La contrase\xF1a es muy larga."),this.modo==="crear"&&!this.$v.contrasenha.required&&o.push("La contrase\xF1a es requerida.")),this.infoTextoFormulario[7].error=!!o.length,o},soloLectura:function(){return this.modo==="leer"},titulo:function(){if(this.modo==="leer")return"Datos del usuario: ".concat(this.usuario.nombreUsuario," - ").concat(this.estaHabilitado?"(Habilitado)":"(Deshabilitado)");if(this.modo==="crear")return"Crear nuevo usuario";if(this.modo==="actualizar")return"Actualizar al usuario: ".concat(this.usuario.nombreUsuario," - ").concat(this.estaHabilitado?"(Habilitado)":"(Deshabilitado)")}},methods:{stringFechaPorSegundos:function(o){return new Date(new Date(o*1e3).getTime()-new Date().getTimezoneOffset()*6e4).toISOString().substring(0,19)},submit:function(){this.$v.$touch(),console.log("this.datosUsuario",this.datosUsuario);var o=this.infoTextoFormulario.find(function(s){return s.error||s.requerido&&!s.existe});if(o){alert("No se puede crear el usuario, verifique los campos.");return}var a=JSON.parse(JSON.stringify(this.datosUsuario));if(console.log("datosUsuario",a),a.nombreCompleto=a.nombreCompleto?a.nombreCompleto:"",a.fechaNacimiento=a.fechaNacimiento?new Date("".concat(a.fechaNacimiento,"T05:00:00.000Z")).getTime():null,a.jekuaaPremium.fechaCompra=a.jekuaaPremium.plan?new Date("".concat(a.jekuaaPremium.fechaCompra,"T").concat(this.horaFechaPremium)).getTime():null,a.jekuaaPremium.fechaHasta=a.jekuaaPremium.plan?new Date("".concat(a.jekuaaPremium.fechaHasta,"T").concat(this.horaFechaPremium)).getTime():null,a.jekuaaPoint=a.jekuaaPoint?Number(a.jekuaaPoint):0,console.log("this.modo",this.modo),this.modo==="crear")this.$emit("crearUsuario",{datosUsuario:a,contrasenha:this.contrasenha});else if(this.modo==="actualizar"){var i=this.filtrarDatosActualizados(a),t={};Object.keys(i).length&&(t=Object.assign(t,{datosUsuario:i})),this.contrasenha&&(t=Object.assign(t,{contrasenha:this.contrasenha})),this.$emit("actualizarUsuario",t)}},clear:function(){this.$v.$reset(),this.datosUsuario.nombreUsuario="",this.datosUsuario.correo="",this.datosUsuario.nombreCompleto="",this.datosUsuario.fechaNacimiento="",this.datosUsuario.jekuaaPremium={plan:"",fechaCompra:"",fechaHasta:""},this.datosUsuario.jekuaaRoles={rol:"estudiante",secciones:[],instructor:!1},this.datosUsuario.jekuaaPoint=0},necesitaSecciones:function(){var o=this.rolSeleccionado.value,a=[{rol:"propietario",nesecitaSecciones:!1,esMiembroJekuaa:!0,nivel:10},{rol:"miembroJekuaa",nesecitaSecciones:!0,esMiembroJekuaa:!0,nivel:5},{rol:"estudiante",nesecitaSecciones:!1,esMiembroJekuaa:!1,nivel:1}],i=a.find(function(t){return t.rol===o});return i.nesecitaSecciones},esMiembroJekuaa:function(){var o=this.rolSeleccionado.value,a=[{rol:"propietario",nesecitaSecciones:!1,esMiembroJekuaa:!0,nivel:10},{rol:"miembroJekuaa",nesecitaSecciones:!0,esMiembroJekuaa:!0,nivel:5},{rol:"estudiante",nesecitaSecciones:!1,esMiembroJekuaa:!1,nivel:1}],i=a.find(function(t){return t.rol===o});return i.esMiembroJekuaa},next:function(){if(this.step===8){this.submit();return}this.step++},filtrarDatosActualizados:function(o){var a={};o.nombreUsuario!=this.usuario.nombreUsuario&&Object.assign(a,{nombreUsuario:o.nombreUsuario}),o.correo!=this.usuario.correo&&Object.assign(a,{correo:o.correo}),o.nombreCompleto!=this.usuario.nombreCompleto&&Object.assign(a,{nombreCompleto:o.nombreCompleto}),this.usuario.fechaNacimiento?o.fechaNacimiento!=this.usuario.fechaNacimiento._seconds*1e3&&Object.assign(a,{fechaNacimiento:o.fechaNacimiento}):o.fechaNacimiento!=this.usuario.fechaNacimiento&&Object.assign(a,{fechaNacimiento:o.fechaNacimiento}),this.usuario.jekuaaPremium.plan?(o.jekuaaPremium.plan!=this.usuario.jekuaaPremium.plan||o.jekuaaPremium.fechaCompra!=this.usuario.jekuaaPremium.fechaCompra._seconds*1e3||o.jekuaaPremium.fechaHasta!=this.usuario.jekuaaPremium.fechaHasta._seconds*1e3)&&Object.assign(a,{jekuaaPremium:o.jekuaaPremium}):(o.jekuaaPremium.plan!=this.usuario.jekuaaPremium.plan||o.jekuaaPremium.fechaCompra!=this.usuario.jekuaaPremium.fechaCompra||o.jekuaaPremium.fechaHasta!=this.usuario.jekuaaPremium.fechaHasta)&&Object.assign(a,{jekuaaPremium:o.jekuaaPremium});var i=o.jekuaaRoles.secciones.sort(),t=this.usuario.jekuaaRoles.secciones.sort();return(o.jekuaaRoles.rol!=this.usuario.jekuaaRoles.rol||JSON.stringify(i)!=JSON.stringify(t)||o.jekuaaRoles.instructor!=this.usuario.jekuaaRoles.instructor)&&Object.assign(a,{jekuaaRoles:o.jekuaaRoles}),o.jekuaaPoint!=this.usuario.jekuaaPoint&&Object.assign(a,{jekuaaPoint:o.jekuaaPoint}),a}},watch:{habilitado:function(o,a){this.estaHabilitado=o},planSeleccionado:function(o,a){if(this.datosUsuario.jekuaaPremium.plan=o.value,!o.value){this.rangoFechaPremium=[],this.horaFechaPremium="",this.infoTextoFormulario[4].error=!1;return}(this.rangoFechaPremium.length<2||!this.horaFechaPremium)&&(this.infoTextoFormulario[4].error=!0)},rangoFechaPremium:function(o,a){if(this.planSeleccionado.value){if(console.log("this.planSeleccionado.value",this.planSeleccionado.value),console.log("nuevo",o),o.length<2){this.infoTextoFormulario[4].error=!0;return}this.infoTextoFormulario[4].error=!1;var i=new Date(o[0]),t=new Date(o[1]);i.getTime()<t.getTime()?(this.datosUsuario.jekuaaPremium.fechaCompra=o[0],this.datosUsuario.jekuaaPremium.fechaHasta=o[1]):i.getTime()>t.getTime()?(this.datosUsuario.jekuaaPremium.fechaCompra=o[1],this.datosUsuario.jekuaaPremium.fechaHasta=o[0]):this.rangoFechaPremium=[],console.log("this.datosUsuario.jekuaaPremium",this.datosUsuario.jekuaaPremium),this.horaFechaPremium||(this.infoTextoFormulario[4].error=!0)}},horaFechaPremium:function(o,a){this.planSeleccionado.value&&(this.rangoFechaPremium.length<2||!o?this.infoTextoFormulario[4].error=!0:this.infoTextoFormulario[4].error=!1)},rolSeleccionado:function(o,a){this.datosUsuario.jekuaaRoles.rol=o.value,this.esMiembroJekuaa()?this.necesitaSecciones()?this.datosUsuario.jekuaaRoles.secciones.length?this.infoTextoFormulario[5].error=!1:this.infoTextoFormulario[5].error=!0:(this.datosUsuario.jekuaaRoles.secciones=[],this.infoTextoFormulario[5].error=!1):(this.datosUsuario.jekuaaRoles.secciones=[],this.datosUsuario.jekuaaRoles.instructor=!1,this.infoTextoFormulario[5].error=!1)},"datosUsuario.jekuaaRoles.secciones":function(o,a){this.necesitaSecciones()&&(o.length?this.infoTextoFormulario[5].error=!1:this.infoTextoFormulario[5].error=!0)},"datosUsuario.nombreUsuario":function(o,a){this.infoTextoFormulario[0].existe=!!o},"datosUsuario.correo":function(o,a){this.infoTextoFormulario[1].existe=!!o},contrasenha:function(o,a){this.infoTextoFormulario[7].existe=!!o}},mounted:function(){var o=this;if(this.modo=this.accionModo,this.modo==="crear")this.datosUsuario={nombreUsuario:"",correo:"",nombreCompleto:"",fechaNacimiento:"",jekuaaPremium:{plan:"",fechaCompra:"",fechaHasta:""},jekuaaRoles:{rol:"estudiante",secciones:[],instructor:!1},jekuaaPoint:0},this.contrasenha="",this.planSeleccionado={text:"Elegir un plan",value:""},this.rangoFechaPremium=[],this.horaFechaPremium="",this.rolSeleccionado={text:"Estudiante",value:"estudiante"};else{if(this.infoTextoFormulario[7].requerido=!1,this.datosUsuario=JSON.parse(JSON.stringify(this.usuario)),this.estaHabilitado=this.habilitado,this.datosUsuario.fechaNacimiento=this.usuario.fechaNacimiento?this.stringFechaPorSegundos(this.usuario.fechaNacimiento._seconds).substr(0,10):"",this.planSeleccionado=this.planes.find(function(t){return t.value===o.usuario.jekuaaPremium.plan}),this.planSeleccionado.value){var a=this.stringFechaPorSegundos(this.usuario.jekuaaPremium.fechaCompra._seconds),i=this.stringFechaPorSegundos(this.usuario.jekuaaPremium.fechaHasta._seconds);this.rangoFechaPremium[0]=a.substr(0,10),this.rangoFechaPremium[1]=i.substr(0,10),this.datosUsuario.jekuaaPremium.fechaCompra=a.substr(0,10),this.datosUsuario.jekuaaPremium.fechaHasta=i.substr(0,10),this.horaFechaPremium=a.substr(11,a.length)}this.rolSeleccionado=this.roles.find(function(t){return t.value===o.usuario.jekuaaRoles.rol})}}},R=N,M=r(554),U=r(42),_=r(48),g=r.n(_),x=r(241),C=r(117),S=r(613),$=r(486),F=r(846),O=r(806),T=r(485),P=r(635),L=r(801),u=r(802),c=r(803),n=r(804),l=r(262),f=r(840),b=Object(U.a)(R,p,j,!1,null,null,null),v=h.default=b.exports;g()(b,{VAvatar:x.a,VBtn:C.a,VChip:S.a,VCol:$.a,VCombobox:F.a,VDatePicker:O.a,VRow:T.a,VSelect:P.a,VStepper:L.a,VStepperContent:u.a,VStepperStep:c.a,VSwitch:n.a,VTextField:l.a,VTimePicker:f.a})},818:function(k,h,r){"use strict";r.r(h);var p=function(){var u=this,c=u.$createElement,n=u._self._c||c;return n("div",{staticClass:"container"},[n("div",{staticClass:"row mt-3"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"mt-3"},[n("v-btn",{staticClass:"mt-4 white--text",attrs:{color:"#683bce",block:"",to:"/miembro-jekuaa/usuarios/lista-usuarios"}},[u._v(`
                    Lista de usuarios
                `)])],1)]),u._v(" "),n("div",{staticClass:"col-md-9"},[n("div",{},[n("formularioUsuario",{attrs:{accionModo:"crear"},on:{crearUsuario:function(l){return u.crearUsuario(l)}}})],1)])])])},j=[],D=r(14),E=r(12),J=r(15),V=r(17),H=r(13),y=r(18),m=r(19),d=r(4),N=r(71),R=r(35),M=r(56),U=r(565),_=r(41);function g(u,c){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);c&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(u,f).enumerable})),n.push.apply(n,l)}return n}function x(u){for(var c=1;c<arguments.length;c++){var n=arguments[c]!=null?arguments[c]:{};c%2?g(Object(n),!0).forEach(function(l){Object(d.a)(u,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(n,l))})}return u}var C={name:"",middleware:"esMiembroJekuaa",components:{formularioUsuario:U.default},data:function(){return{usuarioNuevo:{nombreUsuario:"",correo:"",nombreCompleto:"",fechaNacimiento:"",jekuaaPremium:{plan:"",fechaCompra:"",fechaHasta:""},jekuaaRoles:{rol:"estudiante",secciones:[],instructor:!1},jekuaaPoint:0}}},methods:x(x({},Object(_.b)({errorHandler:"modules/system/errorHandler"})),{},{crearUsuario:function(c){var n=this;return Object(m.a)(regeneratorRuntime.mark(function l(){var f,b,v,e,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f=c.datosUsuario,b=c.contrasenha,t.prev=1,v=n.$firebase.auth().currentUser,!v){t.next=9;break}return t.next=6,v.getIdToken();case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0="";case 10:return v=t.t0,e="Bearer ".concat(v),t.next=14,n.$axios.$post("/miembroJekuaa/crearUsuario",{auth:e,datosUsuario:f,contrasenha:b});case 14:o=t.sent,n.usuarioNuevo=o.resultado,t.next=24;break;case 18:return t.prev=18,t.t1=t.catch(1),t.next=22,n.errorHandler(t.t1.response.data);case 22:a=t.sent,a.includes("error")?n.$nuxt.error({statusCode:t.t1.response.status}):a.includes("login")&&n.$router.push("/autenticacion/inicioSesion");case 24:case"end":return t.stop()}},l,null,[[1,18]])}))()}}),computed:{},mounted:function(){console.log("this.$nuxt",this.$nuxt)}},S=C,$=r(42),F=r(48),O=r.n(F),T=r(117),P=Object($.a)(S,p,j,!1,null,null,null),L=h.default=P.exports;O()(P,{VBtn:T.a})}}]);
