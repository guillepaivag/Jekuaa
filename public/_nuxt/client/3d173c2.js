(window.webpackJsonp=window.webpackJsonp||[]).push([[60,40,41,45,46,47],{1081:function(t,e,o){"use strict";o.r(e);var n,r=o(165),c=o(564),l=o(514),d=o(232),v=o(216),_=o(235),C=o(563),f=o(18),m=(o(52),o(28),o(82),o(36),o(784)),h=o(785),y=o(589),x=o(590),P=o(662),j=o(110).b.firestore(),w={data:function(){return{codigo:this.$route.params.codigo,uidClase:this.$route.params.uidClase,clasePublicado:null,contenidoClasesPublicado:null,contenido:null,tipoAccesoAlCurso:"con_acceso"}},props:{uidCurso:String,datosCurso:Object,unidades:Array,mostrarListaClases:Boolean,listaProgresos:Array},components:{IniciarSesion:m.default,SinAccesoCurso:h.default,VisualizadorArticulo:y.default,VisualizadorVideo:x.default,ListaUnidadesClases:P.default},methods:{secondsToString:function(t){var e=Math.floor(t/3600);e=e<10?"0"+e:e;var o=Math.floor(t/60%60),n=t%60;return n=n<10?"0"+n:n,e+":"+(o=o<10?"0"+o:o)+":"+String(n).split(".")[0]},agregarListaClases:function(){this.$emit("agregarListaClases",{})},inicializacionDeClase:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var o,n,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.clasePublicado=null,t.contenidoClasesPublicado=null,t.contenido=null,e.next=5,j.collectionGroup("ClasesPublicado").where("uid","==",t.uidClase).get();case 5:return(o=e.sent).empty&&t.$router.push("/curso/".concat(t.codigo)),t.clasePublicado=o.docs[0].data(),t.$emit("cambioClase",{datosClase:t.clasePublicado}),e.next=11,j.collection("CursosPublicado").doc(t.uidCurso).collection("ContenidoClasesPublicado").doc(t.uidClase).get();case 11:if(n=e.sent,t.contenidoClasesPublicado=n.data(),!(r=t.$firebase.auth().currentUser)){e.next=20;break}return e.next=17,r.getIdToken();case 17:e.t0=e.sent,e.next=21;break;case 20:e.t0="";case 21:return r=e.t0,e.next=24,t.$store.dispatch("modules/usuarios/setTOKEN",r);case 24:if(c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},l={},e.prev=26,"video"!==t.contenidoClasesPublicado.tipoContenido){e.next=34;break}return e.next=30,t.$axios.$get("/serviceCursoPublicado/obtenerVideo/".concat(t.uidCurso,"/").concat(t.uidClase),c);case 30:l=e.sent,t.contenido={autoplay:!1,controls:!0,sources:[{src:l.resultado,type:t.contenidoClasesPublicado.mimeType}]},e.next=38;break;case 34:return e.next=36,t.$axios.$get("/serviceCursoPublicado/obtenerArticulo/".concat(t.uidCurso,"/").concat(t.uidClase),c);case 36:l=e.sent,t.contenido=l.resultado?l.resultado:null;case 38:e.next=45;break;case 40:e.prev=40,e.t1=e.catch(26),console.log("error.response",e.t1.response),t.contenido={},"sin_acceso_a_la_clase"===e.t1.response.data.mensaje?t.tipoAccesoAlCurso="sin_acceso":"usuario_no_autenticado"===e.t1.response.data.mensaje&&(t.tipoAccesoAlCurso="no_autenticado");case 45:case"end":return e.stop()}}),e,null,[[26,40]])})))()}},watch:{uidClase:(n=Object(f.a)(regeneratorRuntime.mark((function t(e,o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.inicializacionDeClase();case 2:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},mounted:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.inicializacionDeClase();case 2:case"end":return e.stop()}}),e)})))()}},A=w,S=(o(962),o(32)),component=Object(S.a)(A,(function(){var t=this,e=t._self._c;return e("div",{},[t.clasePublicado&&t.contenidoClasesPublicado?e("div",{staticClass:"contenido"},[e("div",{class:t.mostrarListaClases?"":"contenidoFull container"},[t.contenido?"sin_acceso"===t.tipoAccesoAlCurso?e("div",[e("SinAccesoCurso",{attrs:{curso:t.datosCurso}})],1):"no_autenticado"===t.tipoAccesoAlCurso?e("div",[e("IniciarSesion")],1):e("div",["video"===t.contenidoClasesPublicado.tipoContenido?e("VisualizadorVideo",{attrs:{options:t.contenido}}):"articulo"===t.contenidoClasesPublicado.tipoContenido?e("VisualizadorArticulo",{attrs:{contenido:t.contenido}}):t._e()],1):e("div",[t._v("\n                Cargando contenido ðŸš€\n                "),e(_.a,{staticClass:"mt-1",attrs:{indeterminate:"",color:"#683bce"}})],1)]),t._v(" "),e(l.a,{staticClass:"my-5",class:t.mostrarListaClases?"mt-6":"mt-10"}),t._v(" "),e(C.a,[e(c.a,{attrs:{cols:"12",md:t.mostrarListaClases?12:8}},[t.clasePublicado&&t.contenidoClasesPublicado?e("div",[e("h3",{staticClass:"mb-2"},["video"===t.clasePublicado.tipoClase?e(d.a,{staticClass:"mb-1",attrs:{size:"29",color:"#683bce"}},[t._v("\n                            mdi-play-circle\n                        ")]):t._e(),t._v(" "),"articulo"===t.clasePublicado.tipoClase?e(d.a,{attrs:{size:"29",color:"#683bce"}},[t._v("\n                            mdi-file-multiple\n                        ")]):t._e(),t._v("\n                        "+t._s(t.clasePublicado.titulo)+" \n                    ")],1),t._v(" "),e("span",[t._v(" "+t._s(t.clasePublicado.descripcion)+" ")]),t._v(" "),e(l.a,{staticClass:"my-3"}),t._v(" "),e("h4",[t._v("\n                        CreaciÃ³n: \n                        "+t._s(new Date(1e3*t.contenidoClasesPublicado.fechaCreacion.seconds).toISOString().substr(0,10))+"\n                    ")]),t._v(" "),e("h4",[t._v("\n                        ActualizaciÃ³n: \n                        "+t._s(new Date(1e3*t.contenidoClasesPublicado.fechaActualizacion.seconds).toISOString().substr(0,10))+"\n                    ")])],1):t._e()]),t._v(" "),t.mostrarListaClases?t._e():e(c.a,{attrs:{cols:"12",md:t.mostrarListaClases?0:4}},[e(r.a,{staticClass:"btnAgregarListaClases mb-3",attrs:{outlined:"",block:"",text:"",color:"#683bce"},on:{click:t.agregarListaClases}},[t._v("\n                    Agregar lista de clases\n                ")]),t._v(" "),e("ListaUnidadesClases",{attrs:{codigo:t.codigo,unidades:t.unidades,listaProgresos:t.listaProgresos}})],1)],1)],1):e("div",{staticClass:"text-center contenedor_cargando"},[e(v.a,{attrs:{indeterminate:"",size:70,width:7,color:"primary"}})],1)])}),[],!1,null,"7256da4a",null);e.default=component.exports},571:function(t,e,o){},584:function(t,e,o){"use strict";o(571)},589:function(t,e,o){"use strict";o.r(e);var n={name:"visualizador-articulo",props:{contenido:String}},r=o(32),component=Object(r.a)(n,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"ProseMirror",domProps:{innerHTML:t._s(t.contenido)}})}),[],!1,null,"7ac8fab8",null);e.default=component.exports},590:function(t,e,o){"use strict";o.r(e);var n=o(617),r={name:"VideoPlayer",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{player:null}},mounted:function(){var t=this;this.player=Object(n.a)(this.$refs.videoPlayer,this.options,(function(){t.player.log("onPlayerReady",t)}))},beforeDestroy:function(){this.player&&this.player.dispose()}},c=(o(584),o(32)),component=Object(c.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"video-js-responsive-container vjs-hd"},[t("video",{ref:"videoPlayer",staticClass:"video-js vjs-theme-forest",attrs:{id:"my-video",controls:"",poster:"MY_VIDEO_POSTER.jpg","data-setup":'{ "aspectRatio":"16:9", "playbackRates": [1, 1.5, 2] }'}},[this._m(0)])])}),[function(){var t=this,e=t._self._c;return e("p",{staticClass:"vjs-no-js"},[t._v("\n        To view this video please enable JavaScript, and consider upgrading to a\n        web browser that\n        "),e("a",{attrs:{href:"https://videojs.com/html5-video-support/",target:"_blank"}},[t._v("supports HTML5 video")])])}],!1,null,"590e079e",null);e.default=component.exports},618:function(t,e){},662:function(t,e,o){"use strict";o.r(e);var n=o(514),r=o(232),c=o(236),l=o(167),d=o(237),v=o(7),_=o(239),C=o(528),f=(o(36),o(28),o(82),o(111),o(6),{name:"",props:{codigo:String,unidades:Array,listaProgresos:Array},methods:{secondsToString:function(t){var e=Math.floor(t/3600);e=e<10?"0"+e:e;var o=Math.floor(t/60%60),n=t%60;return n=n<10?"0"+n:n,e+":"+(o=o<10?"0"+o:o)+":"+String(n).split(".")[0]},getColorDisplay:function(t){return this.listaProgresos.find((function(e){return e.uidClase===t}))?"green":"gray"}}}),m=o(32),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e(c.a,{staticStyle:{height:"70vh","overflow-y":"scroll"}},t._l(t.unidades,(function(o,c){return e("div",{key:c,staticClass:"mb-8"},[e("h4",{staticClass:"tituloUnidad mb-1"},[t._v(" "+t._s(o.data.nombreUnidad)+" ")]),t._v(" "),e(_.a,{attrs:{color:"primary"}},t._l(o.clases,(function(o,c){return e("div",{key:c},[e(l.a,{attrs:{to:"/curso/".concat(t.codigo,"/clase/").concat(o.data.uid)}},[e(v.a,[e(v.c,{staticClass:"tituloClase"},["video"===o.data.tipoClase?e(r.a,{attrs:{size:"18",color:"#683bce"}},[t._v("\n                                    mdi-play-circle\n                                ")]):t._e(),t._v(" "),"articulo"===o.data.tipoClase?e(r.a,{attrs:{size:"18",color:"#683bce"}},[t._v("\n                                    mdi-file-multiple\n                                ")]):t._e(),t._v(" "),e("p",{staticStyle:{display:"inline","margin-left":"5px !important"}},[t._v(t._s(o.data.titulo))])],1)],1),t._v(" "),e(C.a),t._v(" "),o.data.vistaPrevia?e(r.a,{attrs:{color:"#683bce",left:"",size:"18",title:"Vista previa"}},[t._v("\n                            mdi-eye\n                        ")]):t._e(),t._v(" "),e("p",{staticStyle:{display:"inline","font-size":"13px","margin-top":"16px","margin-right":"-8px"}},[t._v("\n                            "+t._s(t.secondsToString(o.data.duracion))+"\n                        ")]),t._v(" "),e(d.a,[e(r.a,{attrs:{color:t.getColorDisplay(o.data.uid)}},[t._v("\n                                mdi-star\n                            ")])],1)],1),t._v(" "),e(n.a)],1)})),0)],1)})),0)],1)}),[],!1,null,null,null);e.default=component.exports},763:function(t,e,o){},784:function(t,e,o){"use strict";o.r(e);var n=o(165),r=o(241),c=o(76),l={},d=o(32),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e(r.a,{staticClass:"mx-auto",attrs:{"max-width":"470"}},[e(c.c,[e("p",{staticClass:"text-h4 text--primary"},[t._v("\n                Iniciar sesiÃ³n\n            ")]),t._v(" "),e("p",[t._v("\n                Classfii\n            ")]),t._v(" "),e("div",{staticClass:"text--primary"},[t._v("\n                Para ver este contenido por favor inicia sesiÃ³n. "),e("br"),t._v("\n                Y comienza con un mundo de aprendizaje ðŸš€\n            ")])]),t._v(" "),e(c.a,[e(n.a,{attrs:{text:"",color:"#683bce",to:"/inicioSesion"}},[t._v("\n                Iniciar sesiÃ³n\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},785:function(t,e,o){"use strict";o.r(e);var n=o(165),r=o(241),c=o(76),l={props:{curso:Object},methods:{estaEnDescuento:function(t){if(!t)return!1;var e=Date.now()/1e3;return e>=t.fechaInicio.seconds&&e<t.fechaFin.seconds}}},d=o(32),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e(r.a,{staticClass:"mx-auto",attrs:{"max-width":"470"}},[e(c.c,[e("p",{staticClass:"text-h4 text--primary"},[t._v("\n                Sin acceso\n            ")]),t._v(" "),e("p",[t._v("\n                Classfii\n            ")]),t._v(" "),e("div",{staticClass:"text--primary"},[t._v("\n                Para ver este contenido por favor compra el curso. "),e("br"),t._v("\n                Y comienza con un mundo de aprendizaje ðŸš€\n            ")])]),t._v(" "),e(c.a,[0===t.curso.datosPrecio.precio?e(n.a,{attrs:{outlined:"",text:"",color:"#683bce",to:"/pedidos/nuevo/curso/".concat(t.curso.uid)}},[t._v("\n                Reclamar gratis\n            ")]):t.estaEnDescuento(t.curso.datosPrecio.descuento)?e(n.a,{attrs:{outlined:"",text:"",color:"#683bce",to:"/pedidos/nuevo/curso/".concat(t.curso.uid)}},[t._v("\n                "+t._s(0===t.curso.datosPrecio.descuento.precio?"Reclamar gratis":"Comprar")+"\n            ")]):e(n.a,{attrs:{outlined:"",text:"",color:"#683bce",to:"/pedidos/nuevo/curso/".concat(t.curso.uid)}},[t._v("\n                Comprar\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},962:function(t,e,o){"use strict";o(763)}}]);