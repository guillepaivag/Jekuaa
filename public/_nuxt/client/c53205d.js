(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{1058:function(e,r,t){"use strict";t.r(r);var n=t(165),o=t(241),c=t(76),l=t(232),d=t(202),f=t(235),m=t(528),h=t(18),x=(t(52),t(210),t(36),t(209),t(49),t(6),t(34),t(56),t(48),t(28),t(10),t(63),t(67),t(51),t(110));function v(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(l)throw o}}}}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var i=0,t=new Array(r);i<r;i++)t[i]=e[i];return t}var C={name:"auxiliares",layout:"miembro",middleware:"esInstructor",data:function(){return{uidCurso:this.$route.params.uidCurso,datosCurso:null,auxiliares:[]}},components:{},methods:{setColorVProgressLinear:function(e){return"cargando"===e?"#683bce":"eliminando"===e?"red":!1===e?"":void 0},quitarAuxiliar:function(e){var r=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var n,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.datosCurso.auxiliares.findIndex((function(r){return r==e})),o=r.auxiliares.findIndex((function(r){return r.uid==e})),t.prev=2,r.auxiliares[o].proceso="eliminando",!(c=r.$firebase.auth().currentUser)){t.next=11;break}return t.next=8,c.getIdToken();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0="";case 12:return c=t.t0,t.next=15,r.$store.dispatch("modules/usuarios/setTOKEN",c);case 15:return l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=18,r.$axios.$delete("/serviceCursoBorrador/miembro/quitar-auxiliar/".concat(r.uidCurso,"/").concat(e),l);case 18:t.sent,-1!==n&&r.datosCurso.auxiliares.splice(n,1),-1!==o&&r.auxiliares.splice(o,1),t.next=29;break;case 23:return t.prev=23,t.t1=t.catch(2),console.log("error",t.t1),t.next=28,r.$store.dispatch("modules/sistema/errorHandler",t.t1);case 28:t.sent;case 29:return t.prev=29,t.finish(29);case 31:case"end":return t.stop()}}),t,null,[[2,23,29,31]])})))()}},created:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var t,n,o,c,l,d,f,m,h,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.b.firestore().collection("CursosBorrador").doc(e.$route.params.uidCurso).get();case 2:(t=r.sent).exists||e.$router.push("/miembro/cursos/mis-cursos/borrador"),e.datosCurso=t.data(),n=v(e.datosCurso.auxiliares);try{for(n.s();!(o=n.n()).done;)c=o.value,e.auxiliares.push({uid:c,photoURL:"",displayName:"",proceso:"cargando"})}catch(e){n.e(e)}finally{n.f()}l=[],d=v(e.auxiliares),r.prev=9,d.s();case 11:if((f=d.n()).done){r.next=20;break}return m=f.value,h={headers:{"Content-Type":"application/json"}},r.next=16,e.$axios.$get("/serviceUsuario/obtenerAuthentication/uid/".concat(m.uid),h);case 16:y=r.sent,l.push({uid:m.uid,photoURL:y.resultado.photoURL?y.resultado.photoURL:"",displayName:y.resultado.displayName,proceso:!1});case 18:r.next=11;break;case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(9),d.e(r.t0);case 25:return r.prev=25,d.f(),r.finish(25);case 28:e.auxiliares=l;case 29:case"end":return r.stop()}}),r,null,[[9,22,25,28]])})))()},beforeDestroy:function(){}},w=(t(931),t(32)),component=Object(w.a)(C,(function(){var e=this,r=e._self._c;return r("div",{staticClass:"container container2"},[e.datosCurso?r("div",{staticClass:"contenedorFlex"},e._l(e.auxiliares,(function(h,x){return r(o.a,{key:x,staticClass:"contenedorFlexAuxiliar",attrs:{loading:!!h.proceso,disabled:!!h.proceso}},[r("template",{slot:"progress"},[r(f.a,{attrs:{color:e.setColorVProgressLinear(h.proceso),height:"10",indeterminate:""}})],1),e._v(" "),h.photoURL?r(d.a,{attrs:{height:"200",src:h.photoURL}}):r(d.a,{attrs:{height:"200",src:t(655)}}),e._v(" "),r(c.d,[e._v("\n                "+e._s(h.displayName?h.displayName:"Cargando...")+"\n            ")]),e._v(" "),r(c.c,{staticStyle:{"margin-top":"-10px","margin-bottom":"35px"}},[r("div",{staticClass:"text-subtitle-1"},[e._v("\n                    Auxiliar\n                ")])]),e._v(" "),r(m.a),e._v(" "),r(c.a,{staticStyle:{position:"absolute",bottom:"0"}},[r(n.a,{attrs:{text:"",color:"red lighten-2"},on:{click:function(r){return e.quitarAuxiliar(h.uid)}}},[r(l.a,{attrs:{left:""}},[e._v("\n                        mdi-delete\n                    ")]),e._v("\n                    Quitar\n                ")],1)],1)],2)})),1):e._e()])}),[],!1,null,"1ffcb334",null);r.default=component.exports},655:function(e,r,t){e.exports=t.p+"img/loading1.87c5a9d.jpg"},740:function(e,r,t){},931:function(e,r,t){"use strict";t(740)}}]);