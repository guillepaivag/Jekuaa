(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1057:function(e,t,o){"use strict";o.r(t);var n=o(165),r=o(241),c=o(76),l=o(562),f=o(585),d=o(512),v=o(1089),h=o(561),m=o(526),A=(o(34),o(18)),P=(o(52),o(28),o(82),o(150),o(6),o(48),o(51),o(634),o(354),o(36),o(110)),x=o(603),y={name:"FotoPerfil",data:function(){return{uidCurso:this.$route.params.uidCurso,curso:{},fotoPerfil:{value:"",actual:"",saving:!1,saved:!1,maxSize:1024,imageFile:null},fotoPortada:{value:"",actual:"",saving:!1,saved:!1,maxSize:1024,imageFile:null},errorDialog:null,errorText:"",condiciones:["Solo se acepta jpg, jpeg y png.","Como máximo 2MB."]}},props:{},watch:{},methods:{secondsToString:function(e){var t=Math.floor(e/3600);t=t<10?"0"+t:t;var o=Math.floor(e/60%60),n=e%60;return n=n<10?"0"+n:n,t+":"+(o=o<10?"0"+o:o)+":"+String(n).split(".")[0]},getNivel:function(e){return x.a[e]},launchFilePickerFotoCurso:function(){this.fotoPerfil.saving||this.$refs.fileFotoCurso.click()},launchFilePickerFotoPortada:function(){this.fotoPortada.saving||this.$refs.fileFotoPortada.click()},onFileChangeFotoCurso:function(e,t){var o=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n,r,img,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.maxSize,o.fotoPerfil.saving=!1,o.fotoPerfil.saved=!1,o.fotoPerfil.imageFile=t[0],1!==t.length){e.next=32;break}if(r=o.fotoPerfil.imageFile.size/n/n,o.fotoPerfil.imageFile.type.match("image.png")||o.fotoPerfil.imageFile.type.match("image.jpg")||o.fotoPerfil.imageFile.type.match("image.jpeg")){e.next=11;break}return o.errorDialog=!0,o.errorText="Se debe elegir un archivo imagen jpg o png.",o.fotoPerfil.imageFile=null,e.abrupt("return");case 11:if(!(r>2)){e.next=16;break}return o.errorDialog=!0,o.errorText="El archivo es muy grande, favor elegir un archivo de hasta 3MB.",o.fotoPerfil.imageFile=null,e.abrupt("return");case 16:return(img=new Image).src=URL.createObjectURL(o.fotoPerfil.imageFile),c=new Promise((function(e,t){img.onload=function(){return 1024!==this.width||600!==this.height?e("error"):e()}})),e.next=21,c;case 21:if("error"!==e.sent){e.next=27;break}return o.errorDialog=!0,o.errorText="La resolución de la foto del curso es 1024x600.",o.fotoPerfil.imageFile=null,e.abrupt("return");case 27:o.fotoPerfil.imageFile=t[0],o.fotoPerfil.value=URL.createObjectURL(o.fotoPerfil.imageFile),o.actualizarFotoPerfil(),e.next=35;break;case 32:o.fotoPerfil.imageFile=null,o.errorDialog=!0,o.errorText="Solo se puede subir una foto.";case 35:case"end":return e.stop()}}),e)})))()},onFileChangeFotoPortada:function(e,t){var o=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n,r,img,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.maxSize,o.fotoPortada.saving=!1,o.fotoPortada.saved=!1,o.fotoPortada.imageFile=t[0],1!==t.length){e.next=32;break}if(r=o.fotoPortada.imageFile.size/n/n,o.fotoPortada.imageFile.type.match("image.png")||o.fotoPortada.imageFile.type.match("image.jpg")||o.fotoPortada.imageFile.type.match("image.jpeg")){e.next=11;break}return o.errorDialog=!0,o.errorText="Se debe elegir un archivo imagen jpg o png.",o.fotoPortada.imageFile=null,e.abrupt("return");case 11:if(!(r>2)){e.next=16;break}return o.errorDialog=!0,o.errorText="El archivo es muy grande, favor elegir un archivo de hasta 3MB.",o.fotoPortada.imageFile=null,e.abrupt("return");case 16:return(img=new Image).src=URL.createObjectURL(o.fotoPortada.imageFile),c=new Promise((function(e,t){img.onload=function(){return 1920!==this.width||1080!==this.height?e("error"):e()}})),e.next=21,c;case 21:if("error"!==e.sent){e.next=27;break}return o.errorDialog=!0,o.errorText="La resolución de la foto de portada es 1920x1080.",o.fotoPerfil.imageFile=null,e.abrupt("return");case 27:o.fotoPortada.imageFile=t[0],o.fotoPortada.value=URL.createObjectURL(o.fotoPortada.imageFile),o.actualizarFotoPortada(),e.next=35;break;case 32:o.fotoPortada.imageFile=null,o.errorDialog=!0,o.errorText="Solo se puede subir una foto.";case 35:case"end":return e.stop()}}),e)})))()},reiniciarImagen:function(){var e=this.fotoPerfil.actual,t=this.fotoPortada.actual;this.fotoPerfil={value:e,actual:e,saving:!1,saved:!1,maxSize:1024,imageFile:null},this.fotoPortada={value:t,actual:t,saving:!1,saved:!1,maxSize:1024,imageFile:null}},actualizarFotoPerfil:function(){var e=this;return Object(A.a)(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fotoPerfil.saving=!0,t.prev=1,o=e.$firebaseFotoCurso.storage().ref(),(n=o.child("".concat(e.uidCurso,"/fotoCurso/verificacion/").concat(e.fotoPerfil.imageFile.name)).put(e.fotoPerfil.imageFile)).on(e.$firebase.storage.TaskEvent.STATE_CHANGED,(function(t){var progress=t.bytesTransferred/t.totalBytes*100;switch(console.log("Upload is "+progress+"% done"),t.state){case e.$firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case e.$firebase.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e),e.code}),(function(){n.snapshot.ref.getDownloadURL().then(function(){var t=Object(A.a)(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fotoPerfil.saved=!0,e.fotoPerfil.saving=!1,e.fotoPerfil.actual=e.fotoPerfil.value,e.reiniciarImagen();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.next=15;break;case 7:return t.prev=7,t.t0=t.catch(1),console.log("error",t.t0),t.next=12,e.$store.dispatch("modules/sistema/errorHandler",t.t0);case 12:t.sent,e.fotoPerfil.saving=!1,e.reiniciarImagen();case 15:case"end":return t.stop()}}),t,null,[[1,7]])})))()},actualizarFotoPortada:function(){var e=this;return Object(A.a)(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fotoPortada.saving=!0,t.prev=1,o=e.$firebaseFotoCurso.storage().ref(),(n=o.child("".concat(e.uidCurso,"/fotoPortada/verificacion/").concat(e.fotoPortada.imageFile.name)).put(e.fotoPortada.imageFile)).on(e.$firebase.storage.TaskEvent.STATE_CHANGED,(function(t){var progress=t.bytesTransferred/t.totalBytes*100;switch(console.log("Upload is "+progress+"% done"),t.state){case e.$firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case e.$firebase.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e),e.code}),(function(){n.snapshot.ref.getDownloadURL().then(function(){var t=Object(A.a)(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fotoPortada.saved=!0,e.fotoPortada.saving=!1,e.fotoPortada.actual=e.fotoPortada.value,e.reiniciarImagen();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.next=15;break;case 7:return t.prev=7,t.t0=t.catch(1),console.log("error",t.t0),t.next=12,e.$store.dispatch("modules/sistema/errorHandler",t.t0);case 12:t.sent,e.fotoPortada.saving=!1,e.reiniciarImagen();case 15:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},created:function(){var e=this;return Object(A.a)(regeneratorRuntime.mark((function t(){var o,n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=P.b.firestore(),t.next=3,o.collection("CursosBorrador").doc(e.uidCurso).get();case 3:n=t.sent,r=n.data().fotoPerfil,c=n.data().fotoPortada,e.curso=n.data(),e.fotoPerfil={value:r,actual:r,saving:!1,saved:!1,maxSize:1024,imageFile:null},e.fotoPortada={value:c,actual:c,saving:!1,saved:!1,maxSize:1024,imageFile:null};case 9:case"end":return t.stop()}}),t)})))()}},F=y,k=(o(932),o(933),o(32)),component=Object(k.a)(F,(function(){var e=this,t=e._self._c;return t("div",{},[t("div",{staticClass:"container contenedor_imgFotoCurso"},[t("img",{staticClass:"imagen",style:e.fotoPerfil.saving?"":"cursor: pointer;",attrs:{src:e.fotoPerfil.value?e.fotoPerfil.value:o(739)},on:{click:function(t){return e.launchFilePickerFotoCurso()}}})]),e._v(" "),t(v.a,{staticClass:"my-v-parallax",attrs:{dark:"",src:e.fotoPortada.value?e.fotoPortada.value:o(931)}},[t("div",{staticClass:"container contenedor_presentacion"},[t(h.a,[t(l.a,{attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"contenedor_contenido"},[t("h1",{staticClass:"text-h4 font-weight-thin mb-4"},[e._v("\n                            "+e._s(e.curso.titulo)+"\n                        ")]),e._v(" "),e.curso.descripcion?t("p",{},[e._v("\n                            "+e._s(e.curso.descripcion)+"\n                        ")]):t("p",{},[e._v("\n                            Lorem Ipsum is simply dummy text of the printing and typesetting industry. \n                            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, \n                            when an unknown printer took a galley of type and scrambled it to make a type specimen book. \n                            It has survived not only five centuries, but also the.\n                        ")]),e._v(" "),t("p",{},[t("b",[e._v("Duración: ")]),e._v(e._s(e.secondsToString(e.curso.duracion))+"\n                        ")]),e._v(" "),e.curso.nivel?t("p",{},[t("b",[e._v("Nivel: ")]),e._v(e._s(e.getNivel(e.curso.nivel).nombre)+"\n                        ")]):e._e(),e._v(" "),t(n.a,{attrs:{outlined:"","x-large":"",color:"white",disabled:e.fotoPortada.saving},on:{click:function(t){return e.launchFilePickerFotoPortada()}}},[e._v("\n                            Foto portada\n                        ")])],1)]),e._v(" "),t(l.a,{attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"contenedor_contenido_derecha"},[t("img",{staticClass:"imagen",style:e.fotoPerfil.saving?"":"cursor: pointer;",attrs:{src:e.fotoPerfil.value?e.fotoPerfil.value:o(739)},on:{click:function(t){return e.launchFilePickerFotoCurso()}}})])])],1)],1)]),e._v(" "),t("div",{staticClass:"container mt-5"},[t(h.a,{attrs:{"no-gutters":""}},[t(l.a,{staticClass:"requisitos_foto_curso",attrs:{cols:"12",md:"6"}},[t("h3",[e._v("Requisitos foto del curso:")]),e._v(" "),t(d.a),e._v(" "),t("ul",[t("li",[e._v(" Resolución: 1024x600 ")]),e._v(" "),t("li",[e._v(" Formatos válidos: .jpg .jpeg .png ")]),e._v(" "),t("li",[e._v(" Tamaño máximo: 2MB ")])])],1),e._v(" "),t(l.a,{staticClass:"requisitos_foto_portada",attrs:{cols:"12",md:"6"}},[t("h3",[e._v("Requisitos foto de portada:")]),e._v(" "),t(d.a),e._v(" "),t("ul",[t("li",[e._v(" Resolución: 1920x1080 ")]),e._v(" "),t("li",[e._v(" Formatos válidos: .jpg .jpeg .png ")]),e._v(" "),t("li",[e._v(" Tamaño máximo: 2MB ")])])],1)],1)],1),e._v(" "),t("input",{ref:"fileFotoCurso",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.onFileChangeFotoCurso(t.target.name,t.target.files)}}}),e._v(" "),t("input",{ref:"fileFotoPortada",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.onFileChangeFotoPortada(t.target.name,t.target.files)}}}),e._v(" "),t(f.a,{attrs:{"max-width":"300"},model:{value:e.errorDialog,callback:function(t){e.errorDialog=t},expression:"errorDialog"}},[t(r.a,[t(c.c,{staticClass:"subheading"},[e._v("\n                "+e._s(e.errorText)+"\n            ")]),e._v(" "),t(c.a,[t(m.a),e._v(" "),t(n.a,{attrs:{flat:""},on:{click:function(t){e.errorDialog=!1}}},[e._v("Got it!")])],1)],1)],1)],1)}),[],!1,null,"061d49e0",null);t.default=component.exports},564:function(e,t,o){},585:function(e,t,o){"use strict";var n=o(78),r=o(3),c=(o(24),o(87),o(62),o(38),o(60),o(6),o(111),o(12),o(10),o(15),o(16),o(11),o(17),o(564),o(528)),l=o(149),f=o(176),d=o(261),v=o(262),h=o(259),m=o(260),A=o(175),P=o(8),x=o(13),y=o(2);function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=Object(P.a)(f.a,d.a,v.a,h.a,m.a,l.a);t.a=w.extend({name:"v-dialog",directives:{ClickOutside:A.a},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var e;return e={},Object(r.a)(e,"v-dialog ".concat(this.contentClass).trim(),!0),Object(r.a)(e,"v-dialog--active",this.isActive),Object(r.a)(e,"v-dialog--persistent",this.persistent),Object(r.a)(e,"v-dialog--fullscreen",this.fullscreen),Object(r.a)(e,"v-dialog--scrollable",this.scrollable),Object(r.a)(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null===(t=this.previousActiveElement)||void 0===t||t.focus())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(x.e)("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!=typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):v.a.options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$nextTick((function(){var t,o;(null===(t=e.$refs.dialog)||void 0===t?void 0:t.contains(document.activeElement))||(e.previousActiveElement=document.activeElement,null===(o=e.$refs.dialog)||void 0===o||o.focus()),e.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(e){if(e.keyCode===y.t.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&this.$refs.dialog&&![document,this.$refs.dialog].includes(t)&&!this.$refs.dialog.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var o=this.$refs.dialog.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=Object(n.a)(o).find((function(e){return!e.hasAttribute("disabled")}));r&&r.focus()}}},genContent:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement(c.a,{props:{root:!0,light:e.light,dark:e.dark}},[e.$createElement("div",{class:e.contentClasses,attrs:k({role:"dialog","aria-modal":e.hideOverlay?void 0:"true"},e.getScopeIdAttrs()),on:{keydown:e.onKeydown},style:{zIndex:e.activeZIndex},ref:"content"},[e.genTransition()])])]}))},genTransition:function(){var content=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[content]):content},genInnerContent:function(){var data={class:this.classes,attrs:{tabindex:this.isActive?0:void 0},ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(data.style=k(k({},data.style),{},{maxWidth:Object(y.g)(this.maxWidth),width:Object(y.g)(this.width)})),this.$createElement("div",data,this.getContentSlot())}},render:function(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},603:function(e,t,o){"use strict";t.a={basico:{uid:"basico",nombre:"Básico"},intermedio:{uid:"intermedio",nombre:"Intermedio"},avanzado:{uid:"avanzado",nombre:"Avanzado"}}},739:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASUAAACsCAMAAAAKcUrhAAAAA1BMVEX+AAAYIGMAAAAAR0lEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO8GxYgAAb0jQ/cAAAAASUVORK5CYII="},740:function(e,t,o){},741:function(e,t,o){},931:function(e,t,o){e.exports=o.p+"img/gris.c5046d5.jpg"},932:function(e,t,o){"use strict";o(740)},933:function(e,t,o){"use strict";o(741)}}]);