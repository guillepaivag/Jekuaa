(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1064:function(e,r,t){"use strict";t.r(r);var o=t(624),n=t(568),c=t(556),d=t(557),l=t(232),m=t(941),h=t(18),f=(t(52),t(110)),v={name:"",layout:"miembro",middleware:"esMiembro",data:function(){return{uidCurso:this.$route.params.uidCurso,publicado:!1,publicando:!1,breadcrumbs:[{text:"Inicio",disabled:!1,href:"/"},{text:"Miembro",disabled:!1,href:"/miembro"},{text:"Cursos",disabled:!1,href:"/miembro/cursos"},{text:"Publicados",disabled:!1,href:"/miembro/cursos/publicados"}]}},methods:{publicar:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var t,body,o,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.publicando=!0,!(t=e.$firebase.auth().currentUser)){r.next=9;break}return r.next=6,t.getIdToken();case 6:r.t0=r.sent,r.next=10;break;case 9:r.t0="";case 10:return t=r.t0,r.next=13,e.$store.dispatch("modules/usuarios/setTOKEN",t);case 13:return body={publicado:e.publicado},o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},n=e.uidCurso,r.next=18,e.$axios.$put("/serviceCursoPublicado/miembro/publicar/".concat(n),body,o);case 18:r.next=26;break;case 20:return r.prev=20,r.t1=r.catch(0),console.log("error",r.t1),r.next=25,e.$store.dispatch("modules/sistema/errorHandler",r.t1);case 25:r.sent;case 26:return r.prev=26,e.publicando=!1,r.finish(26);case 29:case"end":return r.stop()}}),r,null,[[0,20,26,29]])})))()}},created:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var t,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=f.b.firestore(),r.next=3,t.collection("CursosPublicado").doc(e.uidCurso).get();case 3:if((o=r.sent).exists){r.next=6;break}return r.abrupt("return",e.$router.push("/miembro/cursos/publicados"));case 6:e.breadcrumbs.push({text:o.data().titulo,disabled:!1,href:"/miembro/curso-publicado/".concat(e.uidCurso)}),e.breadcrumbs.push({text:"Ajustes",disabled:!0,href:"/miembro/curso-publicado/".concat(e.uidCurso,"/ajustes")}),e.publicado=o.data().publicado;case 9:case"end":return r.stop()}}),r)})))()}},x=t(32),component=Object(x.a)(v,(function(){var e=this,r=e._self._c;return r("div",{staticClass:"container"},[r("div",{staticClass:"mt-0 mb-0"},[r(n.a,e._l(e.breadcrumbs,(function(t,o){return r("div",{key:o},[r(d.a,{attrs:{href:t.href,disabled:t.disabled,nuxt:!0}},[e._v("\n                    "+e._s(t.text.toUpperCase())+"\n                ")]),e._v(" "),o!==e.breadcrumbs.length-1?r(c.a,[r(l.a,[e._v("mdi-chevron-right")])],1):e._e()],1)})),0)],1),e._v(" "),r("h2",{staticClass:"mt-5"},[e._v("Actualizaci칩n de estado de publicaci칩n:")]),e._v(" "),r(o.a,{staticClass:"mt-5",attrs:{outlined:"",type:"warning",prominent:"",border:"left"}},[e._v("\n        Si despublicas:\n        "),r("ul",[r("li",[e._v(" No podr치s obtener nuevos estudiantes. ")]),e._v(" "),r("li",[e._v(" Tu curso no aparecer치 en la lista de cursos. ")])])]),e._v(" "),r(m.a,{attrs:{loading:e.publicando,disabled:e.publicando,label:"Publicado: ".concat(e.publicado?"Si":"No")},on:{click:e.publicar},model:{value:e.publicado,callback:function(r){e.publicado=r},expression:"publicado"}})],1)}),[],!1,null,null,null);r.default=component.exports}}]);