(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1029:function(t,e,r){"use strict";r.r(e);var n=r(165),o=r(241),c=r(76),l=r(512),d=r(202),f=r(216),m=r(235),v=r(561),h=(r(49),r(6),r(34),r(56),r(48),r(28),r(10),r(63),r(67),r(51),r(18));r(52);function x(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var y=r(110).b.firestore(),C={name:"",middleware:"accesoAutenticado",data:function(){return{cargando:!0,lista:[],ultimoDoc:null,existeMas:!1,cantidadAMostrar:3,cargandoLista:!1}},methods:{calcularPorcentajeProgreso:function(t,e){var r=e.cantidadVisualizada,n=t.cantidadClases;return parseInt(100*r/n)},inicializarLista:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d,f,m,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$store.state.modules.usuarios,t.existeMas=!0,t.cargando=!0,t.cargandoLista=!0,e.next=6,y.collection("Usuarios").doc(r.uid).collection("MisCursos").where("tipoAcceso","==","completo").orderBy("ultimaActividad","desc").limit(t.cantidadAMostrar).get();case 6:if(!(n=e.sent).empty){e.next=12;break}return t.existeMas=!1,t.cargando=!1,t.cargandoLista=!1,e.abrupt("return");case 12:t.ultimoDoc=n.docs[n.docs.length-1],o=[],c=x(n.docs),e.prev=15,c.s();case 17:if((l=c.n()).done){e.next=29;break}return d=l.value,f=d.data(),e.next=22,y.collection("CursosPublicado").doc(f.uid).get();case 22:m=e.sent,v=m.data(),h=t.calcularPorcentajeProgreso(v,f),o.push({datos:v,progreso:h}),t.lista=o;case 27:e.next=17;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(15),c.e(e.t0);case 34:return e.prev=34,c.f(),e.finish(34);case 37:return e.next=39,t.verificarSiExisteMas();case 39:t.existeMas=e.sent,t.cargando=!1,t.cargandoLista=!1;case 42:case"end":return e.stop()}}),e,null,[[15,31,34,37]])})))()},paginar:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d,f,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$store.state.modules.usuarios,t.cargandoLista=!0,e.next=4,y.collection("Usuarios").doc(r.uid).collection("MisCursos").where("tipoAcceso","==","completo").orderBy("ultimaActividad","desc").startAfter(t.ultimoDoc).limit(t.cantidadAMostrar).get();case 4:n=e.sent,t.ultimoDoc=n.docs[n.docs.length-1],o=x(n.docs),e.prev=7,o.s();case 9:if((c=o.n()).done){e.next=20;break}return l=c.value,d=l.data(),e.next=14,y.collection("CursosPublicado").doc(d.uid).get();case 14:f=e.sent,m=f.data(),v=t.calcularPorcentajeProgreso(m,d),t.lista.push({datos:m,progreso:v});case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:return e.next=30,t.verificarSiExisteMas();case 30:t.existeMas=e.sent,t.cargandoLista=!1;case 32:case"end":return e.stop()}}),e,null,[[7,22,25,28]])})))()},verificarSiExisteMas:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$store.state.modules.usuarios,e.next=3,y.collection("Usuarios").doc(r.uid).collection("MisCursos").where("tipoAcceso","==","completo").orderBy("ultimaActividad","desc").startAfter(t.ultimoDoc).limit(1).get();case 3:return n=e.sent,e.abrupt("return",!n.empty);case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.inicializarLista();case 2:case"end":return e.stop()}}),e)})))()}},_=(r(825),r(32)),component=Object(_.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t.cargando?e("div",{staticClass:"text-center"},[e(f.a,{staticClass:"mt-15",attrs:{indeterminate:"",color:"green"}})],1):e("div",{staticClass:"mt-5"},[e("h2",[t._v("Mis cursos:")]),t._v(" "),e(l.a,{staticClass:"mb-7"}),t._v(" "),e("div",{staticClass:"flex-container wrap"},t._l(t.lista,(function(r,l){return e(o.a,{key:l,staticClass:"flex-item"},[e(d.a,{attrs:{src:r.datos.fotoPerfil,height:"140px"}}),t._v(" "),e(m.a,{attrs:{value:r.progreso,color:"#683bce",height:"20"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.value;return[e("strong",[t._v(t._s(Math.ceil(n))+"%")])]}}],null,!0)}),t._v(" "),e("h2",{staticClass:"mt-3 ml-3"},[t._v("\n                    "+t._s(r.datos.titulo)+"\n                ")]),t._v(" "),e(c.a,[e(v.a,{attrs:{align:"center",justify:"end"}},[100===r.progreso?e(n.a,{staticClass:"mb-2 mr-2 mt-4",attrs:{color:"#683bce",text:"",to:"/curso/".concat(r.datos.codigo)}},[t._v("\n                            Ir al curso\n                        ")]):e(n.a,{staticClass:"mb-2 mr-2 mt-4",attrs:{color:"#683bce",text:"",to:"/curso/".concat(r.datos.codigo,"/continuar")}},[t._v("\n                            Continuar\n                        ")])],1)],1)],1)})),1),t._v(" "),t.existeMas?e(n.a,{staticClass:"ma-2",attrs:{loading:t.cargandoLista,outlined:"",color:"indigo"},on:{click:t.paginar}},[t._v("\n            Cargar mÃ¡s\n        ")]):t._e()],1)])}),[],!1,null,"322cfa22",null);e.default=component.exports},697:function(t,e,r){},825:function(t,e,r){"use strict";r(697)}}]);