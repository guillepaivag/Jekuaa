(window.webpackJsonp=window.webpackJsonp||[]).push([[26,18,24],{479:function(e,t,r){},480:function(e,t,r){var map={"./informatica.webp":487,"./matematica.webp":488,"./sinSeccion.webp":489};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=480},487:function(e,t,r){e.exports=r.p+"img/informatica.3ab6971.webp"},488:function(e,t,r){e.exports=r.p+"img/matematica.8a0c5ca.webp"},489:function(e,t,r){e.exports=r.p+"img/sinSeccion.42c6954.webp"},496:function(e,t,r){"use strict";r(479)},501:function(e,t,r){"use strict";r.r(t);var n={name:"visualizador-blog",props:{contenidoBlog:String}},o=(r(496),r(31)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ProseMirror mt-5 mb-5",domProps:{innerHTML:e._s(e.contenidoBlog)}})}),[],!1,null,"a858709c",null);t.default=component.exports},545:function(e,t,r){e.exports=r.p+"img/portada-usuario.899fd65.jpg"},546:function(e,t,r){},596:function(e,t,r){"use strict";r(546)},624:function(e,t,r){},628:function(e,t,r){"use strict";r.r(t);var n=r(17),o=(r(65),r(35),r(70),{name:"carta-presentacion",data:function(){return{informacionUsuario:null,usuario:null,show:!1}},props:{uidUsuario:String},computed:{descripcion:function(){return this.informacionUsuario.descripcion.replace(/\n/g,"<br>")}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$firebase.firestore().collection("Usuarios").doc(e.uidUsuario),t.next=3,r.get();case 3:return n=t.sent,e.usuario=n.data(),o=e.$firebase.firestore().collection("InformacionUsuarios").doc(e.uidUsuario),t.next=8,o.get();case 8:c=t.sent,e.informacionUsuario=c.data();case 10:case"end":return t.stop()}}),t)})))()}}),c=(r(596),r(31)),l=r(44),d=r.n(l),v=r(139),m=r(214),f=r(105),_=r(434),h=r(101),x=r(207),w=r(177),C=r(447),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.usuario&&e.informacionUsuario?n("div",{staticClass:"container"},[n("h3",{staticClass:"mb-5 titulo-presentacion"},[e._v("\n        Presentación del publicador:\n    ")]),e._v(" "),n("div",[n("v-card",{staticClass:"mx-auto"},[n("v-img",{attrs:{src:r(545),height:"200px"}}),e._v(" "),n("v-card-title",[e._v("\n                ¡Hola, soy "),n("b",{staticClass:"texto-nombreCompleto ml-1"},[e._v(" "+e._s(e.usuario.nombreCompleto)+"!")])]),e._v(" "),n("v-card-subtitle",[e._v("\n                "+e._s(e.usuario.nombreUsuario)+" - "+e._s(e.informacionUsuario.rolDescriptivo)+"\n            ")]),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"#683bce",text:"",to:"/estudiante/"+e.usuario.nombreUsuario}},[e._v("\n                Mi perfil\n            ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"#683bce",text:""},on:{click:function(t){e.show=!e.show}}},[n("b",[e._v("Información")]),e._v(" "),n("v-icon",[e._v(e._s(e.show?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),e._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[n("v-divider"),e._v(" "),n("v-card-text",{domProps:{innerHTML:e._s(e.descripcion)}})],1)])],1)],1)]):e._e()}),[],!1,null,"5e834442",null);t.default=component.exports;d()(component,{VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardSubtitle:f.b,VCardText:f.c,VCardTitle:f.d,VDivider:_.a,VExpandTransition:h.a,VIcon:x.a,VImg:w.a,VSpacer:C.a})},698:function(e,t,r){"use strict";r(624)},755:function(e,t,r){"use strict";r.r(t);var n=r(17),o=(r(65),r(509)),c=r.n(o),l=r(501),d={name:"",data:function(){return{referenciaBlog:"",blog:{},contenidoBlog:"",meGustaEsteBlog:!1,dialogRegistro:!1}},components:{"carta-presentacion":r(628).default,"visualizador-blog":l.default},methods:{accionMeGusta:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.verificarSiInicioSesion()){t.next=3;break}return e.dialogRegistro=!0,t.abrupt("return");case 3:if(!e.meGustaEsteBlog){t.next=7;break}return t.next=6,e.quitarMeGusta();case 6:return t.abrupt("return");case 7:return t.next=9,e.darMeGusta();case 9:case"end":return t.stop()}}),t)})))()},darMeGusta:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,body,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.$firebase.auth().currentUser){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,r.getIdToken();case 6:n=t.sent,e.$store.commit("modules/usuarios/setTOKEN",n),body={meGusta:!0},o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.$axios.post("/estudiante/meGustaBlog/".concat(e.blog.uid),body,o),e.meGustaEsteBlog=!0,e.blog.cantidadMeGusta++,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("error: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},quitarMeGusta:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,body,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.$firebase.auth().currentUser){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,r.getIdToken();case 6:n=t.sent,e.$store.commit("modules/usuarios/setTOKEN",n),body={meGusta:!1},o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.$axios.post("/estudiante/meGustaBlog/".concat(e.blog.uid),body,o),e.meGustaEsteBlog=!1,e.blog.cantidadMeGusta--,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("error: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},verificarSiInicioSesion:function(){return!!this.$store.state.modules.usuarios.uid}},computed:{},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.$store.state.modules.usuarios).uid){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$firebase.firestore().collection("Usuarios").doc(r.uid).collection("BlogsMG").doc(e.blog.uid).get();case 5:n=t.sent,e.meGustaEsteBlog=!!n.exists;case 7:case"end":return t.stop()}}),t)})))()},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l,d,v,m,f,_,h,x,w,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.app,r=e.$firebase,n=e.$axios,o=e.redirect,l=e.params,d=l.referencia,v={},m="",t.prev=4,f=r.firestore().collection("Blogs").where("referencia","==",d).where("habilitado","==",!0).where("publicado","==",!0),t.next=8,f.get();case 8:return(_=t.sent).empty&&o("/blogs"),h=_.docs[0],v=h.data(),x={headers:{"Content-Type":"application/json"}},t.next=15,n.get("/blog/obtenerContenido/".concat(v.uid),x);case 15:return w=t.sent,C=new c.a.Converter,m=C.makeHtml(w.data.resultado),t.abrupt("return",{referenciaBlog:d,blog:v,contenidoBlog:m});case 21:t.prev=21,t.t0=t.catch(4),console.log("err",t.t0),o("/blogs");case 25:case"end":return t.stop()}}),t,null,[[4,21]])})))()}},v=(r(698),r(31)),m=r(44),f=r.n(m),_=r(139),h=r(214),x=r(105),w=r(527),C=r(537),k=r(434),G=r(207),B=r(599),V=r(528),M=r(447),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-parallax",{attrs:{dark:"",src:r(480)("./"+(e.blog.seccion?e.blog.seccion:"sinSeccion")+".webp"),height:"350"}},[n("div",{staticClass:"contenedor_contenido_padre"},[n("div",{staticClass:"contenedor_contenido"},[n("h1",{staticClass:"text-h4 font-weight-thin mb-4"},[e._v("\n                    Jekuaapy\n                ")]),e._v(" "),n("h4",{staticClass:"subheading"},[e._v("\n                    "+e._s(e.blog.titulo)+"\n                ")])])])]),e._v(" "),n("div",{staticClass:"container mt-10 mb-5"},[n("div",{staticClass:"mb-10"},[n("h2",{staticClass:"subtitulos"},[e._v(" Descripción ")]),e._v(" "),n("v-divider",{staticClass:"mt-3 mb-3"}),e._v("\n            "+e._s(e.blog.descripcion)+"\n        ")],1),e._v(" "),n("v-btn",{staticClass:"iconoMeGusta",attrs:{icon:"",color:e.meGustaEsteBlog?"#ff1d89":""},on:{click:e.accionMeGusta}},[n("v-icon",[e._v("mdi-heart")])],1),e._v("\n        "+e._s(e.blog.cantidadMeGusta)+"\n\n        "),n("v-divider",{}),e._v(" "),n("div",{},[n("visualizador-blog",{attrs:{contenidoBlog:e.contenidoBlog}})],1),e._v(" "),n("v-divider",{}),e._v(" "),n("v-btn",{staticClass:"iconoMeGusta",attrs:{icon:"",color:e.meGustaEsteBlog?"#ff1d89":""},on:{click:e.accionMeGusta}},[n("v-icon",[e._v("mdi-heart")])],1),e._v("\n        "+e._s(e.blog.cantidadMeGusta)+"\n\n        "),n("v-row",{staticClass:"mt-10 mb-10",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"contenido-l"},[n("h2",{staticClass:"subtitulos"},[e._v(" Fecha creación: ")]),e._v(" "),n("v-divider",{staticClass:"mt-3 mb-3"}),e._v("\n                    "+e._s(new Date(1e3*e.blog.fechaCreacion.seconds).toISOString().substr(0,10))+"\n                ")],1)]),e._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"contenido-d"},[n("h2",{staticClass:"subtitulos"},[e._v(" Fecha actualización: ")]),e._v(" "),n("v-divider",{staticClass:"mt-3 mb-3"}),e._v("\n                    "+e._s(new Date(1e3*e.blog.fechaActualizacion.seconds).toISOString().substr(0,10))+"\n                ")],1)])],1)],1),e._v(" "),n("div",{staticClass:"mb-15"},[n("carta-presentacion",{attrs:{uidUsuario:e.blog.publicador}})],1),e._v(" "),n("v-dialog",{attrs:{width:"500"},model:{value:e.dialogRegistro,callback:function(t){e.dialogRegistro=t},expression:"dialogRegistro"}},[n("v-card",[n("v-card-title",{staticClass:"text-h6 cabecera_registro"},[e._v("\n                Primero debes iniciar sesión\n            ")]),e._v(" "),n("v-card-text",[n("p",[e._v("Para dar "),n("b",[e._v("me gusta")]),e._v(" a este blog de Jekuaapy debes registrarte o iniciar sesión.")]),e._v(" "),n("v-divider",{staticClass:"mb-6"}),e._v(" "),n("p",[e._v("Si tienes una cuenta en Jekuaapy puedes iniciar sesión "),n("nuxt-link",{attrs:{to:"/autenticacion/inicioSesion"}},[e._v("aquí")]),e._v(".")],1),e._v(" "),n("p",[e._v("En caso que no tengas una cuenta en Jekuaapy puedes registrarte "),n("nuxt-link",{attrs:{to:"/autenticacion/registro"}},[e._v("aquí")])],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"#683bce",text:""},on:{click:function(t){e.dialogRegistro=!1}}},[e._v("\n                Cerrar\n            ")])],1)],1)],1)],1)}),[],!1,null,"eb4090a0",null);t.default=component.exports;f()(component,{VBtn:_.a,VCard:h.a,VCardActions:x.a,VCardText:x.c,VCardTitle:x.d,VCol:w.a,VDialog:C.a,VDivider:k.a,VIcon:G.a,VParallax:B.a,VRow:V.a,VSpacer:M.a})}}]);