(window.webpackJsonp=window.webpackJsonp||[]).push([[39,12,17],{556:function(C,_,e){},619:function(C,_,e){"use strict";var b=e(14),D=e.n(b),h=e(12),p=e.n(h),g=e(15),M=e.n(g),E=e(17),P=e.n(E),O=e(13),j=e.n(O),$=e(18),i=e.n($),U=e(4),u=e(24),t=e.n(u),r=e(556),s=e.n(r),a=e(2),c=e(22),d=e(8);function f(o,l){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(o);l&&(m=m.filter(function(B){return Object.getOwnPropertyDescriptor(o,B).enumerable})),n.push.apply(n,m)}return n}function v(o){for(var l=1;l<arguments.length;l++){var n=arguments[l]!=null?arguments[l]:{};l%2?f(Object(n),!0).forEach(function(m){Object(U.a)(o,m,n[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(m){Object.defineProperty(o,m,Object.getOwnPropertyDescriptor(n,m))})}return o}_.a=Object(d.a)(c.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return v({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(a.f)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(l){return l("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},636:function(C,_,e){"use strict";e.r(_);var b=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",[s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-md-4"},[s("v-select",{attrs:{hint:""+(t.identificador.codigo?"Buscar por: "+t.identificador.texto:"No hay identificador"),items:t.opcionesIdentificadores,"item-text":"texto","item-value":"codigo",label:"Select","persistent-hint":"","return-object":"","single-line":""},model:{value:t.identificador,callback:function(a){t.identificador=a},expression:"identificador"}})],1),t._v(" "),t.identificador.codigo?s("div",{staticClass:"col-md-8"},[s("form",{attrs:{onsubmit:"return false"}},[t.identificador.codigo==="uid"?s("v-text-field",{attrs:{"error-messages":t.uidErrors,counter:50,label:"UID",required:""},on:{input:function(a){return t.$v.uid.$touch()},blur:function(a){return t.$v.uid.$touch()}},model:{value:t.identificadorUsuario,callback:function(a){t.identificadorUsuario=a},expression:"identificadorUsuario"}}):t._e(),t._v(" "),t.identificador.codigo==="correo"?s("v-text-field",{attrs:{"error-messages":t.correoErrors,label:"E-mail",required:""},on:{input:function(a){return t.$v.correo.$touch()},blur:function(a){return t.$v.correo.$touch()}},model:{value:t.identificadorUsuario,callback:function(a){t.identificadorUsuario=a},expression:"identificadorUsuario"}}):t._e(),t._v(" "),t.identificador.codigo==="nombreUsuario"?s("v-text-field",{attrs:{"error-messages":t.nombreUsuarioErrors,counter:50,label:"Nombre de usuario",required:""},on:{input:function(a){return t.$v.nombreUsuario.$touch()},blur:function(a){return t.$v.nombreUsuario.$touch()}},model:{value:t.identificadorUsuario,callback:function(a){t.identificadorUsuario=a},expression:"identificadorUsuario"}}):t._e(),t._v(" "),s("v-btn",{on:{click:t.limpiar}},[t._v(`
                    Limpiar
                `)]),t._v(" "),s("v-btn",{staticClass:"ml-4",on:{click:t.buscarPorIdentificador}},[t._v(`
                    Buscar
                `)])],1)]):t._e()])])},D=[],h=e(511),p=e(512),g={mixins:[h.validationMixin],validations:{uid:{required:p.required,maxLength:Object(p.maxLength)(50)},correo:{required:p.required,email:p.email},nombreUsuario:{required:p.required,maxLength:Object(p.maxLength)(50)}},data:function(){return{identificadorUsuario:"",identificador:{texto:"Todos",codigo:null},opcionesIdentificadores:[{texto:"Todos",codigo:null},{texto:"UID",codigo:"uid"},{texto:"Nombre de usuario",codigo:"nombreUsuario"},{texto:"Correo",codigo:"correo"}]}},computed:{uidErrors:function(){var r=[];return this.$v.uid.$dirty&&(!this.$v.uid.maxLength&&r.push("Name must be at most 10 characters long"),!this.$v.uid.required&&r.push("Name is required.")),r},correoErrors:function(){var r=[];return this.$v.correo.$dirty&&(!this.$v.correo.email&&r.push("Must be valid e-mail"),!this.$v.correo.required&&r.push("E-mail is required")),r},nombreUsuarioErrors:function(){var r=[];return this.$v.nombreUsuario.$dirty&&(!this.$v.nombreUsuario.maxLength&&r.push("Name must be at most 10 characters long"),!this.$v.nombreUsuario.required&&r.push("Name is required.")),r}},watch:{identificador:function(r,s){r.codigo||(this.identificadorUsuario="",this.buscarPorIdentificador())}},methods:{buscarPorIdentificador:function(){this.$emit("buscar",{identificadorUsuario:this.identificadorUsuario,codigoBuscador:this.identificador.codigo})},limpiar:function(){this.$v.$reset(),this.identificadorUsuario=""}}},M=g,E=e(42),P=e(48),O=e.n(P),j=e(117),$=e(635),i=e(262),U=Object(E.a)(M,b,D,!1,null,null,null),u=_.default=U.exports;O()(U,{VBtn:j.a,VSelect:$.a,VTextField:i.a})},637:function(C,_,e){"use strict";e.r(_);var b=function(){var i=this,U=i.$createElement,u=i._self._c||U;return u("div",[u("v-simple-table",{attrs:{dense:""},scopedSlots:i._u([{key:"default",fn:function(){return[u("thead",[u("tr",[u("th",{staticClass:"text-left"},[i._v(`
                UID
                `)]),i._v(" "),u("th",{staticClass:"text-left"},[i._v(`
                Correo
                `)]),i._v(" "),u("th",{staticClass:"text-left"},[i._v(`
                Usuario
                `)]),i._v(" "),u("th",{staticClass:"text-left"},[i._v(`
                Acciones
                `)])])]),i._v(" "),u("tbody",i._l(i.listaUsuarios,function(t,r){return u("tr",{key:r},[u("td",[i._v(i._s(t.uid))]),i._v(" "),u("td",[i._v(i._s(t.correo))]),i._v(" "),u("td",[i._v(i._s(t.nombreUsuario))]),i._v(" "),u("td",[u("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"#683bce",block:"",to:"/miembro-jekuaa/usuarios/"+t.uid}},[i._v(`
                            Ver datos
                        `)])],1)])}),0)]},proxy:!0}])})],1)},D=[],h={data:function(){return{listaUsuarios:[]}},props:{usuarios:Array},watch:{usuarios:function(U,u){this.listaUsuarios=this.usuarios}},methods:{},created:function(){this.listaUsuarios=this.usuarios}},p=h,g=e(42),M=e(48),E=e.n(M),P=e(117),O=e(619),j=Object(g.a)(p,b,D,!1,null,null,null),$=_.default=j.exports;E()(j,{VBtn:P.a,VSimpleTable:O.a})},822:function(C,_,e){"use strict";e.r(_);var b=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",[s("div",{staticClass:"container"},[s("buscadorUsuarios",{on:{buscar:function(a){return t.buscarUsuario(a)}}}),t._v(" "),s("hr"),t._v(" "),s("listaUsuarios",{attrs:{usuarios:t.usuarios}}),t._v(" "),s("hr"),t._v(" "),t.existeMasDatos?s("v-btn",{staticClass:"mt-5",attrs:{block:""},on:{click:t.paginar}},[t._v(`
      Cargar m\xE1s
    `)]):t._e()],1)])},D=[],h=e(19),p=e(71),g=e(636),M=e(637),E={name:"",middleware:"esMiembroJekuaa",components:{buscadorUsuarios:g.default,listaUsuarios:M.default},data:function(){return{datosBusqueda:{identificadorUsuario:"",codigoBuscador:null},datosFiltro:{},usuarios:[],ultimoDocumento:null,MAXIMO_USUARIOS:10,existeMasDatos:!1}},methods:{buscarUsuario:function(r){this.usuarios=[],this.datosBusqueda=r,this.inicializarLista()},filtrarUsuario:function(r){this.usuarios=[],this.datosFiltro=r,this.inicializarLista()},inicializarLista:function(){var r=this;return Object(h.a)(regeneratorRuntime.mark(function s(){var a,c,d,f,v,o,l,n,m;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return a=r.datosBusqueda,c=a.identificadorUsuario,d=a.codigoBuscador,f=[],r.usuarios=[],r.ultimoDocumento=null,v=r.$firebase.firestore(),o=v.collection("Usuarios"),o=r.filtrar(o,r.datosBusqueda,r.datosFiltro),o=o.limit(r.MAXIMO_USUARIOS),y.next=10,o.get();case 10:for(l=y.sent,r.ultimoDocumento=l.docs[l.docs.length-1],n=0;n<l.docs.length;n++)m=l.docs[n],f.push(m.data());return y.next=15,r.verificarSiHayMasDatos();case 15:r.usuarios=f;case 16:case"end":return y.stop()}},s)}))()},paginar:function(){var r=this;return Object(h.a)(regeneratorRuntime.mark(function s(){var a,c,d,f,v,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=JSON.parse(JSON.stringify(r.usuarios)),c=r.$firebase.firestore(),d=c.collection("Usuarios").startAfter(r.ultimoDocumento),d=r.filtrar(d,r.datosBusqueda,r.datosFiltro),d=d.limit(r.MAXIMO_USUARIOS),n.next=7,d.get();case 7:for(f=n.sent,r.ultimoDocumento=f.docs[f.docs.length-1],v=0;v<f.docs.length;v++)o=f.docs[v],a.push(o.data());return n.next=12,r.verificarSiHayMasDatos();case 12:r.usuarios=a;case 13:case"end":return n.stop()}},s)}))()},filtrar:function(r,s,a){var c=s.identificadorUsuario,d=s.codigoBuscador;return d&&(r=r.where(d,"==",c)),r},verificarSiHayMasDatos:function(){var r=this;return Object(h.a)(regeneratorRuntime.mark(function s(){var a,c,d;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a=r.$firebase.firestore(),c=a.collection("Usuarios").startAfter(r.ultimoDocumento),c=r.filtrar(c,r.datosBusqueda,r.datosFiltro),c=c.limit(1),v.next=6,c.get();case 6:d=v.sent,r.existeMasDatos=!d.empty;case 8:case"end":return v.stop()}},s)}))()}},created:function(){var r=this;return Object(h.a)(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,r.inicializarLista();case 2:case"end":return c.stop()}},s)}))()}},P=E,O=e(42),j=e(48),$=e.n(j),i=e(117),U=Object(O.a)(P,b,D,!1,null,null,null),u=_.default=U.exports;$()(U,{VBtn:i.a})}}]);
